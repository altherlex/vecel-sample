(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-efa6516e"],{"483f":function(t,e,n){"use strict";var r=n("8f01"),o=n.n(r);o.a},7358:function(t,e,n){"use strict";var r=n("9ab4"),o=n("60a3"),i=n("bc3a"),a=n.n(i),c=n("2fe1"),s=n("2ef0"),u=n.n(s),l=n("2e75");function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function v(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function m(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},g(t,e)}var _=function(t){function e(){return f(this,e),v(this,b(e).apply(this,arguments))}return m(e,t),h(e,[{key:"removeUndefined",value:function(t){return Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),t}},{key:"toQuery",value:function(t){return t=this.removeUndefined(t),Object.keys(t).map((function(e){return"".concat(u.a.snakeCase(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}},{key:"getList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return a.a.get("".concat("http://localhost:8000/api","/").concat(e,"/?").concat(n,"&limit=").concat(o,"&offset=").concat(r*o,"&").concat(i)).then((function(e){return o>0?{data:t.uRecursiveCamel(e.data.results),count:e.data.count}:{data:t.uRecursiveCamel(e.data),count:e.data.length}})).catch((function(e){return t.uRequestErrorHandler(e),{data:[],count:0}}))}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return a.a.get("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"delete",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return a.a.delete("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then().catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"post",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return a.a.post("".concat("http://localhost:8000/api","/").concat(e,"/"),n).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"put",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return a.a.put("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),r).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"patch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return a.a.patch("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),r).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"downloadInvoice",value:function(t,e,n){var r=this;a()({method:"get",url:"".concat("http://localhost:8000/api","/report-invoice/").concat(t,"/"),responseType:"blob"}).then((function(t){r.uDownloadBlobRequest(t.data,"".concat(n," Invoice #").concat(e,".pdf"))})).catch((function(t){r.uRequestErrorHandler(t)}))}}]),e}(Object(c["c"])(l["a"]));_=Object(r["a"])([Object(o["a"])({})],_),e["a"]=_},7479:function(t,e,n){"use strict";var r=n("f7fb"),o=n.n(r);o.a},"88a9":function(t,e,n){},"8f01":function(t,e,n){},9732:function(t,e,n){"use strict";var r=n("88a9"),o=n.n(r);o.a},"97d7":function(t,e,n){"use strict";var r=n("dd9b"),o=n.n(r);o.a},a8fd:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.uCategoryWillHaveVariants(t.productCategory)?n("div",{staticClass:"recursive-table-block-header",style:t.indent,on:{click:t.toggleChildren}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showChildren,expression:"!showChildren"}],attrs:{icon:"plus-square"}}),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],attrs:{icon:"minus-square"}}),t._v(" "+t._s(t.productCategory.name[t.uLangFromLocale(t.$i18n.locale)])+" ")],1):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.productCategory.products&&t.showChildren,expression:"productCategory.products && showChildren"}]},t._l(t.productCategory.products,(function(e){return n("div",{key:e.code},t._l(e.variants,(function(r){return n("div",{key:r.id,staticClass:"recursive-table-body-row"},[n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:1.2}},[n("span",{style:t.indent},[t._v(t._s(e.name[t.uLangFromLocale(t.$i18n.locale)]))])]),n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(e.code)+" ")]),t.jurisdictions.length>1?n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(r.jurisdiction.code)+" ")]):t._e(),n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(r.taxCode?r.taxCode.name[t.uLangFromLocale(t.$i18n.locale)]:t.$t("NA"))+" ")]),r.recyclingFees[0]?n("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.6}},[t._v(" "+t._s(r.recyclingFees[0].isPercent?t.uMinimumTwoDecimals(r.recyclingFees[0].rate)+"%":t.uFormatPrice(t.uMinimumTwoDecimals(r.recyclingFees[0].rate)))+" ")]):n("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.5}},[t._v(" "+t._s(t.$t("NA"))+" ")]),n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(t.PRODUCT_UNITS_MASTER[e.quantityUnit])+" ")]),n("div",{staticClass:"recursive-table-body-data",style:{flex:.5}},[t._v(" "+t._s(e.displayOrder)+" ")]),n("div",{staticClass:"recursive-table-body-data",style:{flex:.5}},[null===r.endDate||r.endDate>t.uCurrentDate()?n("font-awesome-icon",{attrs:{icon:"check-circle"}}):t._e(),null!==r.endDate&&r.endDate<=t.uCurrentDate()?n("font-awesome-icon",{attrs:{icon:"times-circle"}}):t._e()],1),n("div",{staticClass:"recursive-table-body-data left-align table-data-icon-width"},[n("router-link",{staticClass:"btn icon-btn",attrs:{tag:"button",to:{name:t.productCategory.type===t.PRODUCT_CATEGORY_FINANCIAL?"financialProduct":"variant",params:{variantId:r.id}}}},[t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?[n("font-awesome-icon",{attrs:{icon:["fa","edit"],title:t.$t("update")}})]:[n("font-awesome-icon",{attrs:{icon:["fa","eye"],title:t.$t("view")}})]],2)],1)])})),0)})),0),t._l(t.productCategory.productCategories,(function(e){return n("RecursiveVariantTable",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],key:e.id,attrs:{productCategory:e,depth:t.depth+1,jurisdictions:t.jurisdictions}})}))],2)},o=[],i=n("9ab4"),a=n("2fe1"),c=n("60a3"),s=n("2e75");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function p(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}var m=function(t){function e(){var t;return l(this,e),t=p(this,v(e).apply(this,arguments)),t.showChildren=!0,t}return y(e,t),f(e,[{key:"toggleChildren",value:function(){this.showChildren=!this.showChildren}},{key:"indent",get:function(){return{paddingLeft:"".concat(30*this.depth,"px")}}}]),e}(Object(a["c"])(s["a"]));Object(i["a"])([Object(c["b"])()],m.prototype,"productCategory",void 0),Object(i["a"])([Object(c["b"])()],m.prototype,"depth",void 0),Object(i["a"])([Object(c["b"])()],m.prototype,"jurisdictions",void 0),m=Object(i["a"])([Object(c["a"])({name:"RecursiveVariantTable"})],m);var g=m,_=g,O=(n("7479"),n("2877")),C=Object(O["a"])(_,r,o,!1,null,"7398b114",null);e["a"]=C.exports},d59a:function(t,e,n){"use strict";var r=n("9ab4"),o=n("60a3"),i=n("2fe1"),a=n("2e75");function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&p(t,e)}function p(t,e){return p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},p(t,e)}var h=function(t){function e(){var t;return s(this,e),t=u(this,d(e).apply(this,arguments)),t.TABLE_LIMIT=50,t.LOADER_SIZE=60,t.COLUMN_HEADER=0,t.COLUMN_ORDER=1,t.COLUMN_VALUE=2,t.COLUMN_FLEX=3,t.COLUMN_ALIGN=4,t.EDIT_ICON="EDIT_ICON",t.APPLY_ICON="APPLY_ICON",t.VIEW_ICON="VIEW_ICON",t.DELETE_ICON="DELETE_ICON",t.ORDER_ASC="ORDER_ASC",t.ORDER_DESC="ORDER_DESC",t.GENERAL_ICON="GENERAL_ICON",t.NO_FLEX="",t}return f(e,t),e}(Object(i["c"])(a["a"]));h=Object(r["a"])([Object(o["a"])({})],h),e["a"]=h},d9d1:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container parent-page-container"},[n("div",{staticClass:"table-header"},[n("p",{staticClass:"table-title"},[t._v(" "+t._s(t.$t("financialProducts"))+" ")]),t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?n("router-link",{staticClass:"btn primary-action-btn",attrs:{tag:"button",to:{name:"newFinancialProduct"}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "+t._s(t.$t("createFinancialProduct"))+" ")],1):t._e()],1),n("RecursiveTable",{attrs:{groupings:t.formattedProducts,columns:[[t.$t("name"),"","name",1.2,"left"],[t.$t("code"),"","code",.5,"left"],[t.uFindInstruction(this.DISPLAY_JURISDICTION).substring(0,4),"","jurisdiction",.5,"left"],[t.$t("taxCode"),"","taxCode",.5,"left"],[t.$t("currentRate"),"","rate",.5,"right"],[t.$t("unit"),"","unit",.5,"left"],[t.$t("order"),"","order",.5,"center"],[t.$t("status"),"",this.GENERAL_ICON,.5,"center"],[this.EDIT_ICON,"",this.EDIT_ICON,this.NO_FLEX,"left"]],loading:!t.variantReady,emptyStateMessage:t.$t("emptyState.financialProducts"),totalData:t.totalData,scrollWidth:600},on:{dataRequest:t.getListProducts}},[n("template",{slot:"filters"},[n("div",{staticClass:"table-filter-bar"},[n("div",{staticClass:"table-filter-icon"},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),t.jurisdictions.length>1?n("div",{staticClass:"table-filter"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedJurisdiction,expression:"selectedJurisdiction"}],staticClass:"custom-select",attrs:{name:"selectedJurisdiction"},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedJurisdiction=e.target.multiple?n:n[0]},function(e){return e.preventDefault(),t.createFilter()}]}},[n("option",{attrs:{value:"-1"}},[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_SELECT_JURISDICTION))+" ")]),t._l(t.jurisdictions,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])}))],2)]):t._e(),n("div",{staticClass:"table-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{inputActive:""!==t.name},attrs:{type:"text",name:"Name",placeholder:t.$t("name")},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.createFilter())},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"table-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",class:{inputActive:""!==t.code},attrs:{type:"text",name:"Code",placeholder:t.$t("code")},domProps:{value:t.code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.createFilter())},input:function(e){e.target.composing||(t.code=e.target.value)}}})]),n("div",{staticClass:"table-filter"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.productActive,expression:"productActive"}],staticClass:"custom-select",class:{inputActive:!1===t.productActive},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productActive=e.target.multiple?n:n[0]},function(e){return e.preventDefault(),t.createFilter()}]}},t._l(t.productStatuses,(function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("div",{staticClass:"table-filter-clear"},[t.defaultFilter!==t.filter?n("font-awesome-icon",{attrs:{icon:"times",title:t.$t("clearFilter")},on:{click:function(e){return t.removeFilter()}}}):t._e()],1)])])],2)],1)])},o=[],i=n("a34a"),a=n.n(i),c=n("9ab4"),s=n("2fe1"),u=n("60a3"),l=n("2f62"),d=n("2e75"),f=n("a8fd"),p=n("88c3"),h=n("c5af"),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"recursive-table"},[t._t("filters"),n("div",{class:{"table-horizontal-scroll-container":t.scrollWidth},style:{overflow:"hidden"},attrs:{id:"scrollable-table"},on:{scroll:t.scrollFunction}},[n("div",{style:{height:"18px",overflowX:"auto",position:"sticky",left:"0px"},attrs:{id:"scrollbar-wrapper"},on:{scroll:t.scrollFunction}},[n("div",{style:{width:t.scrollWidth+"px",height:"18px"}})]),n("div",{staticClass:"recursive-table-header",style:{width:t.scrollWidth+"px"}},t._l(t.columns,(function(e,r){return n("div",{key:r,class:[e[t.COLUMN_HEADER]===t.EDIT_ICON?"table-data-icon-width":"",e[t.COLUMN_ORDER].length>0?"recursive-table-header-orderable":"","recursive-table-header-data "+e[t.COLUMN_ALIGN]+"-align"],style:{flex:e[t.COLUMN_FLEX]},on:{click:function(n){return t.setOrdering(e[t.COLUMN_ORDER])}}},[e[t.COLUMN_HEADER]!==t.EDIT_ICON?[t._v(" "+t._s(e[t.COLUMN_HEADER])+" ")]:t._e(),e[t.COLUMN_ORDER].length>0&&t.orderDirection(e[t.COLUMN_ORDER])===t.ORDER_ASC?[n("font-awesome-icon",{attrs:{icon:["fa","arrow-down"]}})]:t._e(),e[t.COLUMN_ORDER].length>0&&t.orderDirection(e[t.COLUMN_ORDER])===t.ORDER_DESC?[n("font-awesome-icon",{attrs:{icon:["fa","arrow-up"]}})]:t._e()],2)})),0),n("div",{staticClass:"recursive-table-body",style:{width:t.scrollWidth+"px"}},t._l(t.groupings,(function(e){return n("div",{key:e.id,staticClass:"parent-recursive-table-block"},[n("RecursiveTableBlock",{attrs:{group:e,columns:t.columns,scrollWidth:t.scrollWidth,emptyStateMessage:t.emptyStateMessage,depth:0}})],1)})),0),n("div",{staticClass:"table-empty-loading-state"},[t.loading?n("div",{staticClass:"table-loading"},[n("LoadingIcon")],1):t._e(),0!==t.groupings.length||t.loading?t._e():n("div",{staticClass:"table-empty-state large-text"},[t._v(" "+t._s(t.emptyStateMessage)+" ")])])])],2)])},y=[],b=n("d59a"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"recursive-table-block-header",style:t.indent,on:{click:t.toggleChildren}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showChildren,expression:"!showChildren"}],attrs:{icon:"plus-square"}}),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],attrs:{icon:"minus-square"}}),t._v(" "+t._s(t.group["name"])+" ")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.group.data&&t.showChildren,expression:"group.data && showChildren"}]},[t._l(t.group.data,(function(e){return n("div",{key:e.id,staticClass:"recursive-table-body-row"},t._l(t.columns,(function(r,o){return n("div",{key:o,class:[t.scrollWidth&&o===t.columns.length-1?"recursive-table-body-data-right-freeze":"recursive-table-body-data "+r[t.COLUMN_ALIGN]+"-align",r[t.COLUMN_VALUE]===t.EDIT_ICON?"table-data-icon-width":""],style:{flex:r[t.COLUMN_FLEX]}},[r[t.COLUMN_VALUE]!==t.EDIT_ICON&&r[t.COLUMN_VALUE]!==t.GENERAL_ICON?[t._v(" "+t._s(e[r[t.COLUMN_VALUE]])+" ")]:t._e(),r[t.COLUMN_VALUE]===t.GENERAL_ICON?[n("font-awesome-icon",{attrs:{icon:e[r[t.COLUMN_VALUE]]}})]:t._e(),t.scrollWidth&&o===t.columns.length-1?n("div",{staticClass:"recursive-table-body-data"},[r[t.COLUMN_VALUE]===t.EDIT_ICON?n("router-link",{staticClass:"btn icon-btn",attrs:{tag:"button",to:e.routePath}},[e.canEdit?n("font-awesome-icon",{attrs:{icon:["fa","edit"],title:t.$t("update")}}):n("font-awesome-icon",{attrs:{icon:["fa","view"],title:t.$t("view")}})],1):t._e()],1):t._e(),t.scrollWidth&&o===t.columns.length-1?t._e():[r[t.COLUMN_VALUE]===t.EDIT_ICON?n("router-link",{staticClass:"btn icon-btn",attrs:{tag:"button",to:e.routePath}},[e.canEdit?n("font-awesome-icon",{attrs:{icon:["fa","edit"],title:t.$t("update")}}):n("font-awesome-icon",{attrs:{icon:["fa","view"],title:t.$t("view")}})],1):t._e()]],2)})),0)})),n("div",{staticClass:"table-empty-loading-state"},[n("div",{directives:[{name:"show",rawName:"v-show",value:0===t.group.groupings.length&&0===t.group.data.length,expression:"group.groupings.length === 0 && group.data.length === 0"}],staticClass:"table-empty-state large-text recursive-table-empty-state"},[t._v(" "+t._s(t.emptyStateMessage)+" ")])])],2),t._l(t.group.groupings,(function(e){return n("RecursiveTableBlock",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],key:e.id,attrs:{group:e,columns:t.columns,scrollWidth:t.scrollWidth,depth:t.depth+1,emptyStateMessage:t.emptyStateMessage}})}))],2)},g=[];function _(t){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function O(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&C(t.prototype,e),n&&C(t,n),t}function E(t,e){return!e||"object"!==_(e)&&"function"!==typeof e?j(t):e}function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function R(t){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},R(t)}function L(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}function N(t,e){return N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},N(t,e)}var k=function(t){function e(){var t;return O(this,e),t=E(this,R(e).apply(this,arguments)),t.showChildren=!0,t}return L(e,t),w(e,[{key:"toggleChildren",value:function(){this.showChildren=!this.showChildren}},{key:"indent",get:function(){return{paddingLeft:"".concat(30*this.depth,"px")}}}]),e}(Object(s["c"])(d["a"],b["a"]));Object(c["a"])([Object(u["b"])()],k.prototype,"group",void 0),Object(c["a"])([Object(u["b"])()],k.prototype,"depth",void 0),Object(c["a"])([Object(u["b"])()],k.prototype,"columns",void 0),Object(c["a"])([Object(u["b"])()],k.prototype,"scrollWidth",void 0),Object(c["a"])([Object(u["b"])()],k.prototype,"emptyStateMessage",void 0),k=Object(c["a"])([Object(u["a"])({name:"RecursiveTableBlock"})],k);var P=k,S=P,D=(n("483f"),n("2877")),I=Object(D["a"])(S,m,g,!1,null,"b51300c6",null),A=I.exports;function x(t){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},x(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function M(t,e,n){return e&&T(t.prototype,e),n&&T(t,n),t}function F(t,e){return!e||"object"!==x(e)&&"function"!==typeof e?$(t):e}function $(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function G(t){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},G(t)}function q(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}function H(t,e){return H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},H(t,e)}var W=function(t){function e(){var t;return U(this,e),t=F(this,G(e).apply(this,arguments)),t.ordering="",t.offset=0,t}return q(e,t),M(e,[{key:"mounted",value:function(){var t=this.$route.query.ordering||"&";this.setOrdering(t)}},{key:"created",value:function(){window.addEventListener("scroll",this.scroll)}},{key:"destroyed",value:function(){window.removeEventListener("scroll",this.scroll)}},{key:"scrollFunction",value:function(t){var e=this.$el.querySelector("#scrollable-table"),n=this.$el.querySelector("#scrollbar-wrapper");e&&n&&(e.scrollLeft=t.target.scrollLeft,n.scrollLeft=t.target.scrollLeft)}},{key:"orderDirection",value:function(t){return t.length>0&&this.ordering.includes(t)&&this.ordering.includes("-")?this.ORDER_ASC:this.ordering.includes(t)?this.ORDER_DESC:""}},{key:"setOrdering",value:function(t){var e=this.$route,n=e.query;if(0!==t.length){var r=t,o=n.ordering;o&&o.includes(t)&&(o.includes("-")||(r="-".concat(t))),this.ordering=r;var i=!1;r!==o&&(this.$router.replace({name:e.name,params:e.params,query:{ordering:r}}),i=!0),this.$emit("dataRequest",0,"ordering=".concat(this.ordering),i)}}},{key:"scroll",value:function(){var t=!1;if(document&&document.documentElement){var e=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop);t=e+window.innerHeight>=document.documentElement.offsetHeight-200}t&&!this.loading&&this.groupings&&this.groupings.length!==this.totalData&&(this.offset+=1,this.$emit("dataRequest",this.offset,"ordering=".concat(this.ordering),!1))}}]),e}(Object(s["c"])(d["a"],b["a"]));Object(c["a"])([Object(u["b"])()],W.prototype,"groupings",void 0),Object(c["a"])([Object(u["b"])()],W.prototype,"loading",void 0),Object(c["a"])([Object(u["b"])()],W.prototype,"emptyStateMessage",void 0),Object(c["a"])([Object(u["b"])()],W.prototype,"totalData",void 0),Object(c["a"])([Object(u["b"])()],W.prototype,"columns",void 0),Object(c["a"])([Object(u["b"])()],W.prototype,"scrollWidth",void 0),W=Object(c["a"])([Object(u["a"])({components:{LoadingIcon:h["a"],RecursiveTableBlock:A}})],W);var V=W,J=V,Y=(n("97d7"),Object(D["a"])(J,v,y,!1,null,null,null)),B=Y.exports,X=n("7358");function z(t){return z="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z(t)}function Q(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z(t,e,n,r,o,i,a){try{var c=t[i](a),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,o)}function K(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){Z(i,r,o,a,c,"next",t)}function c(t){Z(i,r,o,a,c,"throw",t)}a(void 0)}))}}function tt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nt(t,e,n){return e&&et(t.prototype,e),n&&et(t,n),t}function rt(t,e){return!e||"object"!==z(e)&&"function"!==typeof e?ot(t):e}function ot(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function at(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ct(t,e)}function ct(t,e){return ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ct(t,e)}var st=function(t){function e(){var t;return tt(this,e),t=rt(this,it(e).apply(this,arguments)),t.productCategories={},t.jurisdictions=[],t.formattedProducts=[],t.productStatuses=[{name:p["a"].tc("allStatus"),value:!1},{name:p["a"].tc("active"),value:!0}],t.selectedJurisdiction=-1,t.endDate="",t.productCategory="",t.name="",t.code="",t.variantReady=!1,t.productActive=!0,t.defaultFilter="active=true&",t.filter="active=true&",t.order="",t.totalData=0,t.productCategoryDepth=1,t}return at(e,t),nt(e,[{key:"mounted",value:function(){var t=K(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.uSetSupportToggle(this.SUPPORT_PANEL_PRODUCTS),this.currentUser&&this.currentUser.agencyUser&&(this.jurisdictions=this.currentUser.agencyUserJurisdictions),this.getListProducts();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"createFilter",value:function(){var t=K(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.filter=this.defaultFilter,this.productCategory&&(this.filter+="product_category=".concat(this.productCategory,"&")),this.name&&(this.filter+="variant_name=".concat(this.name,"&")),this.code&&(this.filter+="variant_code=".concat(this.code,"&")),this.selectedJurisdiction>=0&&(this.filter+="jurisdiction=".concat(this.selectedJurisdiction,"&")),this.productActive&&(this.filter+="active=true&"),this.getListProducts(0,this.order,!0);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeFilter",value:function(){var t=K(a.a.mark((function t(){return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.productCategory="",this.name="",this.productActive=!0,this.code="",this.selectedJurisdiction=-1,this.filter=this.defaultFilter,this.getListProducts(0,this.order,!0);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getListProducts",value:function(){var t=K(a.a.mark((function t(){var e,n,r,o,i,c,s,u=arguments;return a.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=u.length>0&&void 0!==u[0]?u[0]:0,n=u.length>1&&void 0!==u[1]?u[1]:"",r=u.length>2&&void 0!==u[2]&&u[2],this.variantReady=!1,this.order=n,r&&(this.formattedProducts=[]),t.next=8,this.getList("list-products","".concat(this.filter,"today=true&type=").concat(this.PRODUCT_CATEGORY_FINANCIAL),e,0,this.order);case 8:for(o=t.sent,i=o.data,c=o.count,this.productCategories=i,this.totalData=c,s=0;s<this.productCategories.length;s+=1)this.populateProductCategory(this.productCategories[s]);this.formatProductGroup(),this.variantReady=!0;case 16:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"formatProductGroup",value:function(){for(var t=this.productCategories,e=[],n=0;n<t.length;n+=1)e.push(this.prepareGroup(t[n]));this.formattedProducts=e}},{key:"prepareGroup",value:function(t){for(var e=[],n=[],r=0;r<t.productCategories.length;r+=1)n.push(this.prepareGroup(t.productCategories[r]));for(var o=0;o<t.products.length;o+=1)for(var i=t.products[o],a=0;a<i.variants.length;a+=1){var c,s=i.variants[a],u=p["a"].tc("NA");s.recyclingFees[0]&&(u=s.recyclingFees[0].isPercent?"".concat(this.uMinimumTwoDecimals(s.recyclingFees[0].rate),"%"):this.uFormatPrice(this.uMinimumTwoDecimals(s.recyclingFees[0].rate))),e.push((c={name:i.name[this.uLangFromLocale(p["a"].locale)],code:i.code,jurisdiction:s.jurisdiction.code,taxCode:s.taxCode?s.taxCode.name[this.uLangFromLocale(p["a"].locale)]:p["a"].tc("NA"),rate:u,unit:this.PRODUCT_UNITS_MASTER[i.quantityUnit],order:i.displayOrder},Q(c,this.GENERAL_ICON,null===s.endDate||s.endDate>this.uCurrentDate()?"check-circle":"times-circle"),Q(c,"routePath",{name:"financialProduct",params:{variantId:s.id}}),Q(c,"canEdit",this.uHasGroup(this.USER_GROUP_AGENCY_MASTER)),c))}return{name:t.name[this.uLangFromLocale(p["a"].locale)],groupings:n,data:e}}},{key:"populateProductCategory",value:function(t){if(t.productCategories&&t.productCategories.length>0)for(var e=t.productCategories.sort((function(t,e){return t.displayOrder-e.displayOrder})),n=0;n<e.length;n+=1)this.populateProductCategory(e[n])}}]),e}(Object(s["c"])(d["a"],b["a"],X["a"]));st=Object(c["a"])([Object(u["a"])({components:{RecursiveVariantTable:f["a"],LoadingIcon:h["a"],RecursiveTable:B},computed:Object(l["b"])(["currentUser","instructions"])})],st);var ut=st,lt=ut,dt=(n("9732"),Object(D["a"])(lt,r,o,!1,null,"621427ce",null));e["default"]=dt.exports},dd9b:function(t,e,n){},f7fb:function(t,e,n){}}]);
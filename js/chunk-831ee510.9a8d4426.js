(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-831ee510"],{"0b4b":function(t,e,n){},"19f1":function(t,e,n){},"1f24":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tooltip?n("div",{staticClass:"toggle-tooltip"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.html",modifiers:{hover:!0,html:!0}}],class:{"error-tooltip":t.error},attrs:{title:t.tooltip}},[t.error?t._e():n("font-awesome-icon",{attrs:{icon:"question-circle"}}),t.error?n("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e()],1)],1):t._e()},i=[],s=n("9ab4"),o=n("2b0e"),r=n("60a3");function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}var v=function(t){function e(){return u(this,e),l(this,d(e).apply(this,arguments))}return f(e,t),e}(o["default"]);Object(s["a"])([Object(r["b"])()],v.prototype,"tooltip",void 0),Object(s["a"])([Object(r["b"])()],v.prototype,"error",void 0),v=Object(s["a"])([Object(r["a"])({})],v);var m=v,b=m,y=(n("e793"),n("2877")),_=Object(y["a"])(b,a,i,!1,null,"2ae22277",null);e["a"]=_.exports},"2c6e":function(t,e,n){"use strict";var a=n("19f1"),i=n.n(a);i.a},"31c9":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showModal?n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper modal-dialog"},[n("div",{staticClass:"modal-container modal-content"},[n("div",{staticClass:"modal-header"},[n("p",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("updateUserRoles"))+" ")])]),n("div",{staticClass:"modal-body"},[n("form",[t.user.contact?n("div",{staticClass:"detail-list"},[n("p",[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("name"))+":")]),t._v(" "+t._s(t.user.contact.firstName)+" "+t._s(t.user.contact.lastName)+" ")])]):t._e(),n("div",{staticClass:"detail-list"},[n("p",[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("email"))+":")]),t._v(" "+t._s(t.user.emailAddress)+" ")])]),n("div",{staticClass:"detail-list"},[n("p",[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("lastLogin"))+":")]),t._v(" "+t._s(t.user.lastLogin?t.uFormatDate(new Date(t.user.lastLogin)):t.$t("noRecord"))+" ")])]),t.user.status===t.USER_STATUS_INACTIVE?n("div",{staticClass:"detail-list"},[n("p",[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("status"))+":")]),n("span",{staticClass:"state--error"},[t._v(" "+t._s(t.$t("deactivated"))+" ")])])]):t._e(),t.participantId?n("div",{staticClass:"form-group"},[n("div",{staticClass:"form-check"},[n("b-form-checkbox",{staticClass:"form-check-input",attrs:{type:"checkbox"},on:{change:function(e){t.memberUnchanged=!1}},model:{value:t.memberOfOrg,callback:function(e){t.memberOfOrg=e},expression:"memberOfOrg"}}),n("label",{staticClass:"form-check-label"},[t._v(" "+t._s(t.$t("memberOfOrg"))+" ")]),n("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.INVITEFORM_INVITE_ORG)}})],1)]):t._e(),t.participantId?n("div",{staticClass:"form-group"},[n("label",[t._v(" "+t._s(t.$t("businesses"))+" ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedRemitters,expression:"selectedRemitters"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select",attrs:{multiple:"",disabled:t.memberOfOrg,name:"remitters"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedRemitters=e.target.multiple?n:n[0]}}},t._l(t.participants,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.registrationNo)+" "+t._s(e.businessName)+" ")])})),0)]):t._e(),n("div",[n("div",{staticClass:"form-group",style:{"margin-right":"10px",display:"inline-block"}},[n("div",{staticClass:"detail-list"},[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("roles"))+":")])]),t._l(t.groups,(function(e){return n("div",{key:e.id,staticClass:"form-group"},[n("div",{staticClass:"form-check"},[n("b-form-checkbox",{staticClass:"form-check-input",attrs:{id:e.name,value:e,type:"checkbox"},model:{value:t.selectedGroups,callback:function(e){t.selectedGroups=e},expression:"selectedGroups"}}),n("label",{staticClass:"form-check-label",attrs:{for:e}},[t._v(" "+t._s(t.uShowGroupName(e.name))+" ")])],1)])}))],2),t.selectedGroups.some((function(e){return e.name===t.USER_GROUP_PARTICIPANT_DATA||e.name===t.USER_GROUP_PARTICIPANT_APPROVER}))&&t.uConfig(t.SPECIAL_FILER_ENABLED)?n("div",{staticClass:"form-group",style:{display:"inline-block"}},[n("div",{staticClass:"detail-list"},[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("filingRoles"))+":")])]),t._l(t.FILING_TYPES,(function(e,a){return n("div",{key:a.id,staticClass:"form-group"},[n("div",{staticClass:"form-check"},[n("b-form-checkbox",{staticClass:"form-check-input",attrs:{id:e,value:a,type:"checkbox"},model:{value:t.filingTypesSelected,callback:function(e){t.filingTypesSelected=e},expression:"filingTypesSelected"}}),n("label",{staticClass:"form-check-label",attrs:{for:a}},[t._v(" "+t._s("Special"===t.FILING_TYPES[a]?t.uFindInstruction(t.DISPLAY_SPECIAL_FILER):t.FILING_TYPES[a])+" ")])],1)])}))],2):t._e()])])]),n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"modal-footer-success-message"},[t._v(" "+t._s(t.successMessage)+" ")]),!t.closeButtonEnabled&&(t.uIsMasterUser()&&t.uCanModifyParticipantData(t.participantId)||t.currentUser.agencyUser&&t.uIsMasterUser())?n("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.openRemoveModal()}}},[t._v(" "+t._s(t.deactivateButton?t.$t("deactivate"):t.$t("remove"))+" ")]):t._e(),n("div",{staticClass:"flex-spacer"}),t.closeButtonEnabled?n("button",{staticClass:"btn primary-action-btn",on:{click:function(e){e.preventDefault(),t.$emit("hideModal"),t.$emit("updateUsers"),t.closeButtonEnabled=!1,t.submitted=!1,t.successMessage=""}}},[t._v(" "+t._s(t.$t("close"))+" ")]):t._e(),t.closeButtonEnabled?t._e():n("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.$emit("hideModal")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),t.closeButtonEnabled||!t.uIsMasterUser()||t.participantId&&!t.uCanModifyParticipantData(t.participantId)?t._e():n("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.submitted||t.errors.any(),type:"submit"},on:{click:function(e){return e.preventDefault(),t.checkGroups()}}},[t._v(" "+t._s(t.$t("update"))+" ")])])])])])]):t._e(),n("ConfirmationModal",{attrs:{showModal:t.showConfirmationModal,okDisabled:t.submitted},on:{ok:t.update,cancel:t.cancelModal}},[n("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("updateUserRoles")))]),n("div",{attrs:{slot:"body"},slot:"body"},[t._v(" "+t._s(t.$t("giveMasterUserConfirmation"))+" ")])]),n("ConfirmationModal",{attrs:{showModal:t.showRemoveUserModal},on:{ok:t.removeUser,cancel:t.cancelModal}},[n("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.deactivateButton?t.$t("deactivateUser"):t.$t("removeUser")))]),n("div",{attrs:{slot:"body"},slot:"body"},[t._v(" "+t._s(t.participantId?t.deactivateButton?t.$t("deactivateUserConfirmation"):t.$t("removeUserConfirmation"):t.$t("removeUserConfirmationAgency"))+" ")])])],1)},i=[],s=n("a34a"),o=n.n(s),r=n("9ab4"),c=n("2fe1"),u=n("60a3"),l=n("2f62"),p=n("bc3a"),d=n.n(p),f=n("2e75"),h=n("0f7b"),v=n("1f24");function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e,n,a,i,s,o){try{var r=t[s](o),c=r.value}catch(u){return void n(u)}r.done?e(c):Promise.resolve(c).then(a,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function o(t){b(s,a,i,o,r,"next",t)}function r(t){b(s,a,i,o,r,"throw",t)}o(void 0)}))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function C(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function O(t,e){return!e||"object"!==m(e)&&"function"!==typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}function k(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}function M(t,e){return M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},M(t,e)}var R=function(t){function e(){var t;return _(this,e),t=O(this,U(e).apply(this,arguments)),t.submitted=!1,t.showRemoveUserModal=!1,t.showConfirmationModal=!1,t.deactivateButton=!1,t.closeButtonEnabled=!1,t.successMessage="",t.participantId=0,t.memberOfOrg=!1,t.selectedGroups=[],t.selectedRemitters=[],t.remainingRemitters=[],t.filingTypesSelected=[],t}return k(e,t),C(e,[{key:"setParticipantId",value:function(t){t&&t.id&&(this.participantId=t.id)}},{key:"updateShowModal",value:function(){var t=this;this.memberOfOrg=!1;for(var e=[],n=[],a=0;a<this.user.participantUsers.length;a+=1)this.user.participantUsers[a].participant.participant===this.participantId?e.push(this.user.participantUsers[a].participant.id):this.user.participantUsers[a].participant.id!==this.participantId&&n.push(this.user.participantUsers[a].participant.id),this.user.memberOfOrg&&(this.memberOfOrg=!0);this.selectedRemitters=e,this.remainingRemitters=n,this.selectedGroups=this.user.groups,this.filingTypesSelected=[],this.user.filingTypes.length&&this.user.filingTypes.forEach((function(e){return t.filingTypesSelected.push(String(e))})),this.setRemoveOrDeactivate()}},{key:"mounted",value:function(){var t=this;this.setParticipantId(this.participant),this.currentUser.filingTypes.length&&this.currentUser.filingTypes.forEach((function(e){return t.filingTypesSelected.push(String(e))}))}},{key:"checkGroups",value:function(){this.user.groups.find((function(t){return"Participant-Master User"===t.name}))||this.user.groups.find((function(t){return"Agency-Master User"===t.name}))?this.update():this.selectedGroups.find((function(t){return"Participant-Master User"===t.name}))||this.selectedGroups.find((function(t){return"Agency-Master User"===t.name}))?this.openConfirmationModal():this.update()}},{key:"setRemoveOrDeactivate",value:function(){this.remainingRemitters.length>0?this.deactivateButton=!1:null==this.user.agencyUser&&(this.deactivateButton=!0)}},{key:"update",value:function(){var t=y(o.a.mark((function t(){var e,n,a=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.submitted=!0,e=this.selectedGroups.map((function(t){return t.id})),n={group_ids:e,participant_ids:this.memberOfOrg?[this.participantId]:this.selectedRemitters,filing_types:this.filingTypesSelected},this.participantId&&(n.organization=this.participantId),d.a.patch("".concat("http://localhost:8000/api","/custom-users/").concat(this.user.id,"/"),n).then((function(t){if(a.user.id===a.currentUser.id){var e=a.uRecursiveCamel(t.data);a.$store.dispatch("update_user",e)}a.successMessage=t.data.message,a.closeButtonEnabled=!0,a.showConfirmationModal=!1})).catch((function(t){a.submitted=!1,a.$emit("hideModal"),a.uRequestErrorHandler(t)}));case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeUser",value:function(){var t=y(o.a.mark((function t(){var e=this;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.participantId?d.a.patch("".concat("http://localhost:8000/api","/custom-users/").concat(this.user.id,"/"),{organization:this.participantId,remove:!0}).then(function(){var t=y(o.a.mark((function t(n){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showRemoveUserModal=!1,e.$emit("hideModal"),e.$emit("updateUsers"),e.user.id===e.currentUser.id&&(a=e.uRecursiveCamel(n.data),e.$store.dispatch("update_user",a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.showRemoveUserModal=!1,e.$emit("hideModal"),e.uRequestErrorHandler(t)})):d.a.delete("".concat("http://localhost:8000/api","/agency-users/").concat(this.user.agencyUser.id,"/")).then(function(){var t=y(o.a.mark((function t(n){var a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showRemoveUserModal=!1,e.$emit("hideModal"),e.$emit("updateUsers"),e.user.id===e.currentUser.id&&(a=e.uRecursiveCamel(n.data),e.$store.dispatch("update_user",a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.showRemoveUserModal=!1,e.$emit("hideModal"),e.uRequestErrorHandler(t)}));case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"openConfirmationModal",value:function(){this.showConfirmationModal=!0}},{key:"openRemoveModal",value:function(){this.showRemoveUserModal=!0}},{key:"cancelModal",value:function(){this.showConfirmationModal=!1,this.showRemoveUserModal=!1}}]),e}(Object(c["c"])(f["a"]));Object(r["a"])([Object(u["b"])()],R.prototype,"showModal",void 0),Object(r["a"])([Object(u["b"])()],R.prototype,"groups",void 0),Object(r["a"])([Object(u["b"])()],R.prototype,"user",void 0),Object(r["a"])([Object(u["b"])()],R.prototype,"participant",void 0),Object(r["a"])([Object(u["b"])()],R.prototype,"participants",void 0),Object(r["a"])([Object(u["d"])("participant")],R.prototype,"setParticipantId",null),Object(r["a"])([Object(u["d"])("showModal")],R.prototype,"updateShowModal",null),R=Object(r["a"])([Object(u["a"])({components:{ConfirmationModal:h["a"],Tooltip:v["a"]},computed:Object(l["b"])(["currentUser"])})],R);var E=R,I=E,j=(n("60bc"),n("2c6e"),n("2877")),P=Object(j["a"])(I,a,i,!1,null,"2e69b617",null);e["a"]=P.exports},3712:function(t,e,n){},"44fa":function(t,e,n){},"45db":function(t,e,n){"use strict";var a=n("a9c9"),i=n.n(a);i.a},"533d":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.showModal?n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper modal-dialog"},[n("div",{staticClass:"modal-container modal-content"},[n("div",{staticClass:"modal-header"},[n("p",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("inviteNewUser"))+" ")])]),n("div",{staticClass:"modal-body"},[t.emailEnabled?t._e():n("p",{staticClass:"text-center form-error-message"},[t._v(" "+t._s(t.$t("emailInvitesDisabled"))+" ")]),n("div",{staticClass:"instruction-text instruction-top",domProps:{innerHTML:t._s(t.uFindInstruction(this.INVITEUSERPAGE_INSTRUC_EMAIL))}}),n("form",{attrs:{autocomplete:"off"}},[t.participantId?n("div",{staticClass:"form-group"},[n("div",{staticClass:"form-check"},[n("b-form-checkbox",{staticClass:"form-check-input",attrs:{type:"checkbox"},model:{value:t.inviteToOrg,callback:function(e){t.inviteToOrg=e},expression:"inviteToOrg"}}),n("label",{staticClass:"form-check-label"},[t._v(" "+t._s(t.$t("inviteToOrg"))+" ")]),n("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.INVITEFORM_INVITE_ORG)}})],1)]):t._e(),t.participantId&&"object"===typeof t.participants&&0!==Object.entries(t.participants).length?n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("businesses")))]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedParticipants,expression:"selectedParticipants"}],staticClass:"custom-select",attrs:{multiple:"",disabled:t.inviteToOrg,name:"businessName"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedParticipants=e.target.multiple?n:n[0]}}},t._l(t.participants,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.registrationNo)+" - "+t._s(e.businessName)+" ")])})),0)]):t._e(),"object"===typeof t.participants&&0===Object.entries(t.participants).length?n("div",[t._v(" "+t._s(t.$t("emptyState.remitters"))+" ")]):t._e(),t.selectionRequired?n("div",{staticClass:"form-error-message--permissions"},[t._v(" "+t._s(t.$t("mustSelectParticipants"))+" ")]):t._e(),n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("email")))]),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"},{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{disabled:t.submitted,type:"email",name:"Email",placeholder:t.$t("email")},domProps:{value:t.email},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},input:function(e){e.target.composing||(t.email=e.target.value)}}}),n("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Email")))]),t.existingUser?n("span",{staticClass:"form-error-message"},[t._v(" "+t._s(t.$t("existingUser"))+" ")]):t._e()])])]),n("div",{staticClass:"modal-footer"},[t.submitted&&t.checkingUser?n("LoadingIcon",{attrs:{buttonLoader:!0}}):t._e(),n("div",{staticClass:"modal-footer-success-message"},[t._v(" "+t._s(t.successMessage)+" ")]),t.closeButtonEnabled?n("button",{staticClass:"btn primary-action-btn",on:{click:function(e){e.preventDefault(),t.$emit("hideModal"),t.closeButtonEnabled=!1,t.submitted=!1,t.email="",t.successMessage=""}}},[t._v(" "+t._s(t.$t("close"))+" ")]):t._e(),t.closeButtonEnabled?t._e():n("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.$emit("hideModal")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),!t.uIsMasterUser()||t.participantId&&!t.uCanModifyParticipantData(t.participantId)||t.closeButtonEnabled?t._e():n("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.submitted||t.errors.any(),type:"submit"},on:{click:function(e){return e.preventDefault(),t.checkIsParticipantUser()}}},[t._v(" "+t._s(t.$t("submit"))+" ")])],1)])])])]):t._e(),n("ConfirmationModal",{attrs:{showModal:t.showConfirmationModal},on:{ok:function(e){return t.submitForm()},cancel:t.cancelModal}},[n("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("inviteUser")))]),n("div",{attrs:{slot:"body"},slot:"body"},[t._v(" "+t._s(t.$t("inviteUserConfirmation1"))+" "),t._v(" "+t._s(t.permissions.length>=1?t.uSelectGroupNames(t.permissions).map((function(e){return t.uShowGroupName(e.name)})).join(", "):t.$t("noRoles"))+" "),n("br"),n("br"),t._v(" "+t._s(t.$t("inviteUserConfirmation2"))+" ")])])],1)},i=[],s=n("a34a"),o=n.n(s),r=n("9ab4"),c=n("2fe1"),u=n("60a3"),l=n("bc3a"),p=n.n(l),d=n("2f62"),f=n("2e75"),h=n("0f7b"),v=n("1f24"),m=n("c5af"),b=n("7358");function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function _(t,e,n,a,i,s,o){try{var r=t[s](o),c=r.value}catch(u){return void n(u)}r.done?e(c):Promise.resolve(c).then(a,i)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function o(t){_(s,a,i,o,r,"next",t)}function r(t){_(s,a,i,o,r,"throw",t)}o(void 0)}))}}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function w(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function U(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},M(t)}function R(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}var I=function(t){function e(){var t;return C(this,e),t=U(this,M(e).apply(this,arguments)),t.submitted=!1,t.existingUser=!1,t.existingParticipantUser=!1,t.toBeInvitedUser={},t.checkingUser=!1,t.showConfirmationModal=!1,t.participantId=0,t.inviteToOrg=!1,t.selectedParticipants=[],t.email="",t.successMessage="",t.closeButtonEnabled=!1,t.selectionRequired=!1,t.permissions="",t}return R(e,t),w(e,[{key:"setParticipantId",value:function(t){t&&t.id&&(this.participantId=t.id)}},{key:"mounted",value:function(){this.setParticipantId(this.participant)}},{key:"checkIsParticipantUser",value:function(){var t=g(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitted=!0,this.checkingUser=!0,t.next=4,this.getList("custom-users","email_address=".concat(this.email));case 4:e=t.sent,n=e.data,this.toBeInvitedUser=n[0],this.toBeInvitedUser&&this.toBeInvitedUser.participantUsers.length>0&&(this.existingParticipantUser=!0),this.checkingUser=!1,this.checkExistingParticipantUser();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"openConfirmationModal",value:function(t){this.showConfirmationModal=!0,this.permissions=t}},{key:"cancelModal",value:function(){this.showConfirmationModal=!1}},{key:"checkExistingParticipantUser",value:function(){this.participantId&&this.existingParticipantUser?(this.openConfirmationModal(this.toBeInvitedUser.groups),this.existingParticipantUser=!1):this.submitForm()}},{key:"submitForm",value:function(){var t=g(o.a.mark((function t(){var e,n,a;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showConfirmationModal=!1,this.selectionRequired=!1,this.existingUser=!1,t.next=5,this.$validator.validate();case 5:if(e=t.sent,n="invite_participant_user",this.agency&&(n="invite_agency_user"),this.agency||this.inviteToOrg||0!==this.selectedParticipants.length){t.next=13;break}this.submitted=!1,this.selectionRequired=!0,t.next=31;break;case 13:if(e){t.next=17;break}this.submitted=!1,t.next=31;break;case 17:return t.prev=17,t.next=20,p.a.post("".concat("http://localhost:8000/api","/auth/").concat(n,"/"),{email:this.email,participants:this.inviteToOrg?[this.participantId]:this.selectedParticipants});case 20:a=t.sent,this.successMessage=a.data.message,this.closeButtonEnabled=!0,this.$emit("updateUsers"),t.next=31;break;case 26:t.prev=26,t.t0=t["catch"](17),this.submitted=!1,this.uRequestErrorHandler(t.t0),400===t.t0.response.status&&(this.existingUser=!0);case 31:case"end":return t.stop()}}),t,this,[[17,26]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"emailEnabled",get:function(){return this.uConfig(this.EMAIL_ENABLED)}}]),e}(Object(c["c"])(f["a"],b["a"]));Object(r["a"])([Object(u["b"])()],I.prototype,"agency",void 0),Object(r["a"])([Object(u["b"])()],I.prototype,"participant",void 0),Object(r["a"])([Object(u["b"])()],I.prototype,"participants",void 0),Object(r["a"])([Object(u["b"])()],I.prototype,"showModal",void 0),Object(r["a"])([Object(u["d"])("participant")],I.prototype,"setParticipantId",null),I=Object(r["a"])([Object(u["a"])({components:{ConfirmationModal:h["a"],Tooltip:v["a"],LoadingIcon:m["a"]},computed:Object(d["b"])(["currentUser"])})],I);var j=I,P=j,S=(n("e286"),n("2877")),$=Object(S["a"])(P,a,i,!1,null,"6d799f96",null);e["a"]=$.exports},"60bc":function(t,e,n){"use strict";var a=n("0b4b"),i=n.n(a);i.a},7358:function(t,e,n){"use strict";var a=n("9ab4"),i=n("60a3"),s=n("bc3a"),o=n.n(s),r=n("2fe1"),c=n("2ef0"),u=n.n(c),l=n("2e75");function p(t){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function v(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?m(t):e}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}var g=function(t){function e(){return d(this,e),v(this,b(e).apply(this,arguments))}return y(e,t),h(e,[{key:"removeUndefined",value:function(t){return Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),t}},{key:"toQuery",value:function(t){return t=this.removeUndefined(t),Object.keys(t).map((function(e){return"".concat(u.a.snakeCase(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}},{key:"getList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return o.a.get("".concat("http://localhost:8000/api","/").concat(e,"/?").concat(n,"&limit=").concat(i,"&offset=").concat(a*i,"&").concat(s)).then((function(e){return i>0?{data:t.uRecursiveCamel(e.data.results),count:e.data.count}:{data:t.uRecursiveCamel(e.data),count:e.data.length}})).catch((function(e){return t.uRequestErrorHandler(e),{data:[],count:0}}))}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return o.a.get("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"delete",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return o.a.delete("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then().catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"post",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return o.a.post("".concat("http://localhost:8000/api","/").concat(e,"/"),n).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"put",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return o.a.put("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),a).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"patch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return o.a.patch("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),a).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"downloadInvoice",value:function(t,e,n){var a=this;o()({method:"get",url:"".concat("http://localhost:8000/api","/report-invoice/").concat(t,"/"),responseType:"blob"}).then((function(t){a.uDownloadBlobRequest(t.data,"".concat(n," Invoice #").concat(e,".pdf"))})).catch((function(t){a.uRequestErrorHandler(t)}))}}]),e}(Object(r["c"])(l["a"]));g=Object(a["a"])([Object(i["a"])({})],g),e["a"]=g},"8f2f":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container parent-page-container"},[n("div",{staticClass:"table-header"},[n("p",{staticClass:"table-title"},[t._v(t._s(t.$t("users")))]),t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?n("button",{staticClass:"btn primary-action-btn",on:{click:function(e){return e.preventDefault(),t.showInviteModalDialog()}}},[t._v(" "+t._s(t.$t("inviteNewUser"))+" ")]):t._e()]),n("div",{staticClass:"custom-table"},[n("div",{staticClass:"custom-table-header"},[n("div",{staticClass:"custom-table-header-data left-align",style:{flex:1.5}},[t._v(t._s(t.$t("email")))]),n("div",{staticClass:"custom-table-header-data left-align"},[t._v(t._s(t.$t("status")))]),n("div",{staticClass:"custom-table-header-data left-align"},[t._v(t._s(t.$t("lastLogin")))]),n("div",{staticClass:"custom-table-header-data left-align"},[t._v(t._s(t.$t("roles")))]),t.uHasGroup(t.USER_GROUP_PARTICIPANT_MASTER)||t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?n("div",{staticClass:"custom-table-header-data right-align table-data-icon-width"}):t._e()]),n("div",{staticClass:"custom-table-body"},t._l(t.users,(function(e){return n("div",{key:e.id,staticClass:"custom-table-body-row"},[n("div",{staticClass:"custom-table-body-data left-align",style:{flex:1.5}},[t._v(" "+t._s(e.emailAddress)+" ")]),n("div",{staticClass:"custom-table-body-data left-align"},[e.status===t.USER_STATUS_ACTIVE?n("span",[t._v(" "+t._s(t.$t("active"))+" ")]):e.status===t.USER_STATUS_INACTIVE?n("span",{staticClass:"state--error"},[t._v(" "+t._s(t.$t("deactivated"))+" ")]):t._e()]),n("div",{staticClass:"custom-table-body-data left-align"},[t._v(" "+t._s(e.lastLogin?t.uFormatDate(new Date(e.lastLogin)):t.$t("noRecord"))+" ")]),n("div",{staticClass:"custom-table-body-data left-align"},[t._v(" "+t._s(e.groups.length>=1?t.uSelectGroupNames(e.groups).map((function(e){return t.uShowGroupName(e.name)})).join(", "):t.$t("noRoles"))+" ")]),t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?n("div",{staticClass:"custom-table-body-data table-data-icon-width"},[n("button",{staticClass:"btn icon-btn",attrs:{type:"submit"},on:{click:function(n){return n.preventDefault(),t.showGroupModal(e)}}},[n("font-awesome-icon",{attrs:{icon:["fa","edit"],title:t.$t("updateUserRoles")}})],1)]):t._e()])})),0),n("div",{staticClass:"table-empty-loading-state"},[t.usersReady?t._e():n("div",{staticClass:"table-loading"},[n("LoadingIcon")],1),0===t.users.length&&t.usersReady?n("div",{staticClass:"table-empty-state large-text"},[t._v(" "+t._s(t.$t("emptyState.users"))+" ")]):t._e()])])]),n("UpdateUserModal",{attrs:{showModal:t.showModal,user:t.selectedUser,groups:t.groups},on:{hideModal:function(e){t.showModal=!1},updateUsers:function(e){return t.getUsers()}}}),n("InviteUserModal",{attrs:{agency:!0,showModal:t.showInviteModal},on:{hideModal:function(e){t.showInviteModal=!1},updateUsers:function(e){return t.getUsers()}}})],1)},i=[],s=n("a34a"),o=n.n(s),r=n("9ab4"),c=n("60a3"),u=n("2f62"),l=n("2fe1"),p=n("2e75"),d=n("31c9"),f=n("533d"),h=n("c5af"),v=n("7358");function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function b(t,e,n,a,i,s,o){try{var r=t[s](o),c=r.value}catch(u){return void n(u)}r.done?e(c):Promise.resolve(c).then(a,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function o(t){b(s,a,i,o,r,"next",t)}function r(t){b(s,a,i,o,r,"throw",t)}o(void 0)}))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function C(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),t}function O(t,e){return!e||"object"!==m(e)&&"function"!==typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},U(t)}function k(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&M(t,e)}function M(t,e){return M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},M(t,e)}var R=function(t){function e(){var t;return _(this,e),t=O(this,U(e).apply(this,arguments)),t.showModal=!1,t.showInviteModal=!1,t.usersReady=!1,t.users=[],t.selectedUser={},t.groups=[],t}return k(e,t),C(e,[{key:"mounted",value:function(){var t=y(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.uSetSupportToggle(this.SUPPORT_PANEL_USERS),t.next=3,this.getList("groups","agency=true");case 3:e=t.sent,n=e.data,this.groups=n,this.getUsers();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"showInviteModalDialog",value:function(){this.showInviteModal=!0}},{key:"getUsers",value:function(){var t=y(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.usersReady=!1,t.next=3,this.getList("custom-users","agency=true");case 3:e=t.sent,n=e.data,this.users=n,this.usersReady=!0;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"showGroupModal",value:function(t){this.selectedUser=t,this.showModal=!0}}]),e}(Object(l["c"])(p["a"],v["a"]));R=Object(r["a"])([Object(c["a"])({components:{UpdateUserModal:d["a"],LoadingIcon:h["a"],InviteUserModal:f["a"]},computed:Object(u["b"])(["currentUser","instructions"])})],R);var E=R,I=E,j=(n("45db"),n("2877")),P=Object(j["a"])(I,a,i,!1,null,"8d9a98ba",null);e["default"]=P.exports},a9c9:function(t,e,n){},e286:function(t,e,n){"use strict";var a=n("44fa"),i=n.n(a);i.a},e793:function(t,e,n){"use strict";var a=n("3712"),i=n.n(a);i.a}}]);
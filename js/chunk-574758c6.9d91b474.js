(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-574758c6"],{"12d3":function(t,e,n){"use strict";var r=n("8717"),a=n.n(r);a.a},"1f24":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.tooltip?n("div",{staticClass:"toggle-tooltip"},[n("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.html",modifiers:{hover:!0,html:!0}}],class:{"error-tooltip":t.error},attrs:{title:t.tooltip}},[t.error?t._e():n("font-awesome-icon",{attrs:{icon:"question-circle"}}),t.error?n("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e()],1)],1):t._e()},a=[],o=n("9ab4"),i=n("2b0e"),c=n("60a3");function s(t){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){return!e||"object"!==s(e)&&"function"!==typeof e?l(t):e}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function b(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}var d=function(t){function e(){return u(this,e),p(this,f(e).apply(this,arguments))}return b(e,t),e}(i["default"]);Object(o["a"])([Object(c["b"])()],d.prototype,"tooltip",void 0),Object(o["a"])([Object(c["b"])()],d.prototype,"error",void 0),d=Object(o["a"])([Object(c["a"])({})],d);var v=d,m=v,y=(n("e793"),n("2877")),_=Object(y["a"])(m,r,a,!1,null,"2ae22277",null);e["a"]=_.exports},"2f08":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Navbar",{attrs:{noParticipant:!0,backButton:{name:"participants"}}},[n("template",{slot:"router-tabs"},[n("b-nav-item",[n("div",{staticClass:"router-tab",class:{"router-link-active":1===t.menuState}},[t._v(" "+t._s(t.$t("organization"))+" ")])])],1)],2),n("div",{staticClass:"container parent-page-container business-container action-navbar-container"},[1===t.menuState?n("div",[n("ParticipantForm",{attrs:{updating:!1,agencyNewOrg:!0}})],1):t._e()])],1)},a=[],o=n("9ab4"),i=n("60a3"),c=n("2fe1"),s=n("6eea"),u=n("2e75"),p=n("d178");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?h(t):e}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function v(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var y=function(t){function e(){var t;return f(this,e),t=b(this,d(e).apply(this,arguments)),t.menuState=1,t}return v(e,t),e}(Object(c["c"])(u["a"]));y=Object(o["a"])([Object(i["a"])({components:{ParticipantForm:s["a"],Navbar:p["a"]}})],y);var _=y,g=_,O=(n("12d3"),n("2877")),S=Object(O["a"])(g,r,a,!1,null,"a2ac50c6",null);e["default"]=S.exports},3712:function(t,e,n){},"5ae9":function(t,e,n){"use strict";var r=n("b4e6"),a=n.n(r);a.a},"6eea":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"form-header"},[t.updating?t._e():n("p",{staticClass:"form-title"},[t._v(t._s(t.$t("createOrganization")))]),t.updating?n("p",{staticClass:"form-title"},[t._v(t._s(t.$t("updateOrganization")))]):t._e(),n("div",{staticClass:"flex-spacer"}),t.participant&&t.currentUser.agencyUser&&(t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)||t.uHasGroup(t.USER_GROUP_AGENCY_FILING))&&t.fileAvailable?n("router-link",{staticClass:"btn primary-action-btn",attrs:{tag:"button",to:{name:"filingStart",params:{menuState:"1",participantId:Number(t.participant.id)}}}},[t._v(" "+t._s(t.$t("fileAsVerb"))+" ")]):t._e(),t.uIsClaimsAppEnabled()&&t.participant&&t.updating&&t.claimAvailable?n("router-link",{staticClass:"btn primary-action-btn",attrs:{tag:"button",to:{name:"claimsStart",params:{menuState:"1",participantId:Number(t.participant.id)}}}},[t._v(" "+t._s(t.$t("claim"))+" ")]):t._e()],1),n("form",{staticClass:"padded-form"},[t.uIsParticipantUser()&&!t.uConfig(t.ONLY_AGENCY_UPDATES_BUSINESS_NAME)||!t.uIsParticipantUser()?n("div",{staticClass:"form-group"},[n("label",[t._v(t._s(t.$t("organizationName"))+" "),n("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.PARTICIPANTFORM_INFOTIP_BUSI_NAME)}})],1),n("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"},{name:"model",rawName:"v-model",value:t.businessName,expression:"businessName"}],staticClass:"form-control",attrs:{type:"text",name:"Organization Name",placeholder:t.$t("organizationName")},domProps:{value:t.businessName},on:{input:function(e){e.target.composing||(t.businessName=e.target.value)}}}),n("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Organization Name")))])]):t._e(),t.uIsParticipantUser()&&t.uConfig(t.ONLY_AGENCY_UPDATES_BUSINESS_NAME)?n("div",{staticClass:"detail-list"},[n("p",[n("span",{staticClass:"list-label"},[t._v(t._s(t.$t("organizationName"))+":")]),t._v(" "+t._s(t.businessName)+" "),n("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.PARTICIPANTFORM_INFOTIP_BUSI_NAME)}})],1)]):t._e(),!t.uConfig(t.ONLY_AGENCY_UPDATES_BUSINESS_NAME)||t.currentUser.agencyUser?n("div",{staticClass:"form-actions"},[n("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.submitted||t.errors.any()||t.uIsParticipantUser()&&t.uIsMasterUser()||!t.uIsMasterUser()&&t.currentUser.agencyUser||t.updating&&!t.uCanModifyParticipantData(t.participant.id),type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitForm()}}},[t._v(" "+t._s(t.updating?t.$t("update"):t.$t("create"))+" ")])]):t._e(),t.uIsMasterUser()||!t.uIsParticipantUser()&&!t.currentUser.agencyUser||t.uConfig(t.ONLY_AGENCY_UPDATES_BUSINESS_NAME)&&!t.currentUser.agencyUser?t._e():n("div",{staticClass:"form-error-message--permissions"},[t._v(" "+t._s(t.$t("higherPermissionsRequired"))+" ")])])])},a=[],o=n("a34a"),i=n.n(o),c=n("9ab4"),s=n("2fe1"),u=n("60a3"),p=n("bc3a"),l=n.n(p),f=n("1f24"),b=n("2e75"),h=n("7358");function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function v(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function i(t){v(o,r,a,i,c,"next",t)}function c(t){v(o,r,a,i,c,"throw",t)}i(void 0)}))}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function O(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?S(t):e}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function P(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}function N(t,e){return N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},N(t,e)}var j=function(t){function e(){var t;return y(this,e),t=O(this,E(e).apply(this,arguments)),t.submitted=!1,t.groups=[],t.businessName="",t.fileAvailable=!1,t.claimAvailable=!1,t}return P(e,t),g(e,[{key:"mounted",value:function(){var t=m(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.participant&&(this.businessName=this.participant.businessName),this.getMasterGroup(),this.checkOrgFunctions(this.participants);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"checkOrgFunctions",value:function(t){for(var e=0;e<t.length;e+=1){var n=t[e].type;n===this.PARTICIPANT_TYPES_REMITTER?this.fileAvailable=!0:n!==this.PARTICIPANT_TYPES_GENERATOR&&n!==this.PARTICIPANT_TYPES_PROCESSOR&&n!==this.PARTICIPANT_TYPES_MANUFACTURER&&n!==this.PARTICIPANT_TYPES_CUSTOMER||(this.claimAvailable=!0)}}},{key:"getMasterGroup",value:function(){var t=m(i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getList("groups","name=".concat(this.USER_GROUP_PARTICIPANT_MASTER));case 2:for(e=t.sent,n=e.data,r=e.count,a=0;a<r;a+=1)this.groups.push(n[a].id);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"submitForm",value:function(){var t=m(i.a.mark((function t(){var e,n,r,a=this;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitted=!0,t.next=3,this.$validator.validate();case 3:if(e=t.sent,e){t.next=8;break}this.submitted=!1,t.next=34;break;case 8:if(n={business_name:this.businessName},this.updating){t.next=33;break}if(t.prev=10,this.agencyNewOrg){t.next=14;break}return t.next=14,l.a.patch("".concat("http://localhost:8000/api","/custom-users/").concat(this.user.id,"/"),{group_ids:this.groups});case 14:return t.next=16,l.a.post("".concat("http://localhost:8000/api","/participants/"),n);case 16:if(r=t.sent,this.agencyNewOrg){t.next=24;break}return t.next=20,l.a.patch("".concat("http://localhost:8000/api","/contacts/").concat(this.user.contactId,"/"),{participant_id:r.data.id});case 20:return t.next=22,l.a.post("".concat("http://localhost:8000/api","/participant-users/"),{participant_id:r.data.id,user_id:this.user.id});case 22:this.$router.go(0),this.$router.push({name:"home"});case 24:this.agencyNewOrg&&this.$router.push({name:"participant",params:{participantId:String(r.data.id),parentParticipantId:String(r.data.id)}}),t.next=31;break;case 27:t.prev=27,t.t0=t["catch"](10),this.submitted=!1,this.uRequestErrorHandler(t.t0);case 31:t.next=34;break;case 33:l.a.put("".concat("http://localhost:8000/api","/participants/").concat(this.participant.id,"/"),n).then((function(){a.$emit("updateBusinessName")})).catch((function(t){a.uRequestErrorHandler(t)})).finally((function(){a.submitted=!1}));case 34:case"end":return t.stop()}}),t,this,[[10,27]])})));function e(){return t.apply(this,arguments)}return e}()}]),e}(Object(s["c"])(b["a"],h["a"]));Object(c["a"])([Object(u["b"])()],j.prototype,"user",void 0),Object(c["a"])([Object(u["b"])()],j.prototype,"participant",void 0),Object(c["a"])([Object(u["b"])()],j.prototype,"updating",void 0),Object(c["a"])([Object(u["b"])()],j.prototype,"agencyNewOrg",void 0),Object(c["a"])([Object(u["b"])()],j.prototype,"participants",void 0),Object(c["a"])([Object(u["d"])("participants")],j.prototype,"checkOrgFunctions",null),j=Object(c["a"])([Object(u["a"])({components:{Tooltip:f["a"]}})],j);var w=j,C=w,R=(n("5ae9"),n("2877")),I=Object(R["a"])(C,r,a,!1,null,"d3612298",null);e["a"]=I.exports},7358:function(t,e,n){"use strict";var r=n("9ab4"),a=n("60a3"),o=n("bc3a"),i=n.n(o),c=n("2fe1"),s=n("2ef0"),u=n.n(s),p=n("2e75");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function d(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return _=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_(t,e)}var g=function(t){function e(){return f(this,e),d(this,m(e).apply(this,arguments))}return y(e,t),h(e,[{key:"removeUndefined",value:function(t){return Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),t}},{key:"toQuery",value:function(t){return t=this.removeUndefined(t),Object.keys(t).map((function(e){return"".concat(u.a.snakeCase(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}},{key:"getList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return i.a.get("".concat("http://localhost:8000/api","/").concat(e,"/?").concat(n,"&limit=").concat(a,"&offset=").concat(r*a,"&").concat(o)).then((function(e){return a>0?{data:t.uRecursiveCamel(e.data.results),count:e.data.count}:{data:t.uRecursiveCamel(e.data),count:e.data.length}})).catch((function(e){return t.uRequestErrorHandler(e),{data:[],count:0}}))}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return i.a.get("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"delete",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return i.a.delete("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then().catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"post",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return i.a.post("".concat("http://localhost:8000/api","/").concat(e,"/"),n).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"put",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return i.a.put("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),r).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"patch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return i.a.patch("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),r).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"downloadInvoice",value:function(t,e,n){var r=this;i()({method:"get",url:"".concat("http://localhost:8000/api","/report-invoice/").concat(t,"/"),responseType:"blob"}).then((function(t){r.uDownloadBlobRequest(t.data,"".concat(n," Invoice #").concat(e,".pdf"))})).catch((function(t){r.uRequestErrorHandler(t)}))}}]),e}(Object(c["c"])(p["a"]));g=Object(r["a"])([Object(a["a"])({})],g),e["a"]=g},8717:function(t,e,n){},b4e6:function(t,e,n){},e793:function(t,e,n){"use strict";var r=n("3712"),a=n.n(r);a.a}}]);
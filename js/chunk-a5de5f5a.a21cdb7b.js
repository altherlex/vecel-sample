(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a5de5f5a"],{"0650":function(t,e,n){},5306:function(t,e,n){"use strict";var r=n("bd5d"),a=n.n(r);a.a},"65c9":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showIt?n("div",{staticClass:"jurisdiction"},[t.showLabel?n("label",[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_JURISDICTION))+" ")]):t._e(),n("select",t._b({staticClass:"custom-select",on:{input:function(e){return t.triggerOnInputEvent(e.target.value)},change:function(e){return t.triggerOnChangeEvent(e.target.value)}}},"select",Object.assign({},{value:t.value},t.$attrs),!1),[n("option",{attrs:{disabled:"",value:"-1"}},[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_SELECT_JURISDICTION))+" ")]),t._l(t.jurisdictions,(function(e){return n("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])}))],2)]):t._e()},a=[],i=n("a34a"),o=n.n(i),c=n("9ab4"),s=n("60a3"),u=n("2f62"),l=n("2fe1"),d=n("2e75"),f=n("7358");function p(t){return p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},p(t)}function v(t,e,n,r,a,i,o){try{var c=t[i](o),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){v(i,r,a,o,c,"next",t)}function c(t){v(i,r,a,o,c,"throw",t)}o(void 0)}))}}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e&&b(t.prototype,e),n&&b(t,n),t}function m(t,e){return!e||"object"!==p(e)&&"function"!==typeof e?_(t):e}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function w(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&O(t,e)}function O(t,e){return O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},O(t,e)}var j=function(t){function e(){var t;return y(this,e),t=m(this,C(e).apply(this,arguments)),t.jurisdictions=[],t.showIt=!0,t}return w(e,t),g(e,[{key:"cleanErrors",value:function(){this.$parent.$validator.errors.clear()}},{key:"mounted",value:function(){var t=h(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.currentUser&&this.currentUser.agencyUser&&(this.jurisdictions=this.currentUser.agencyUserJurisdictions),!1===this.displayOne&&(this.showIt=this.jurisdictions.length>1);case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"triggerOnInputEvent",value:function(t){this.$emit("input",t)}},{key:"triggerOnChangeEvent",value:function(t){try{this.$emit("changeEvent",t)}finally{}}}]),e}(Object(l["c"])(d["a"],f["a"]));Object(c["a"])([Object(s["b"])()],j.prototype,"value",void 0),Object(c["a"])([Object(s["b"])()],j.prototype,"displayOne",void 0),Object(c["a"])([Object(s["b"])()],j.prototype,"showLabel",void 0),Object(c["a"])([Object(s["d"])("value")],j.prototype,"cleanErrors",null),j=Object(c["a"])([Object(s["a"])({components:{},computed:Object(u["b"])(["currentUser"])})],j);var k=j,R=k,P=(n("cab3"),n("2877")),x=Object(P["a"])(R,r,a,!1,null,"40281f48",null);e["a"]=x.exports},7358:function(t,e,n){"use strict";var r=n("9ab4"),a=n("60a3"),i=n("bc3a"),o=n.n(i),c=n("2fe1"),s=n("2ef0"),u=n.n(s),l=n("2e75");function d(t){return d="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},d(t)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}function h(t,e){return!e||"object"!==d(e)&&"function"!==typeof e?y(t):e}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},b(t)}function g(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var _=function(t){function e(){return f(this,e),h(this,b(e).apply(this,arguments))}return g(e,t),v(e,[{key:"removeUndefined",value:function(t){return Object.keys(t).forEach((function(e){void 0===t[e]&&delete t[e]})),t}},{key:"toQuery",value:function(t){return t=this.removeUndefined(t),Object.keys(t).map((function(e){return"".concat(u.a.snakeCase(e),"=").concat(encodeURIComponent(t[e]))})).join("&")}},{key:"getList",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";return o.a.get("".concat("http://localhost:8000/api","/").concat(e,"/?").concat(n,"&limit=").concat(a,"&offset=").concat(r*a,"&").concat(i)).then((function(e){return a>0?{data:t.uRecursiveCamel(e.data.results),count:e.data.count}:{data:t.uRecursiveCamel(e.data),count:e.data.length}})).catch((function(e){return t.uRequestErrorHandler(e),{data:[],count:0}}))}},{key:"get",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return o.a.get("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"delete",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return o.a.delete("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/")).then().catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"post",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;return o.a.post("".concat("http://localhost:8000/api","/").concat(e,"/"),n).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"put",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return o.a.put("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),r).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"patch",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return o.a.patch("".concat("http://localhost:8000/api","/").concat(e,"/").concat(n,"/"),r).then((function(e){return t.uRecursiveCamel(e.data)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"downloadInvoice",value:function(t,e,n){var r=this;o()({method:"get",url:"".concat("http://localhost:8000/api","/report-invoice/").concat(t,"/"),responseType:"blob"}).then((function(t){r.uDownloadBlobRequest(t.data,"".concat(n," Invoice #").concat(e,".pdf"))})).catch((function(t){r.uRequestErrorHandler(t)}))}}]),e}(Object(c["c"])(l["a"]));_=Object(r["a"])([Object(a["a"])({})],_),e["a"]=_},7479:function(t,e,n){"use strict";var r=n("f7fb"),a=n.n(r);a.a},a8fd:function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.uCategoryWillHaveVariants(t.productCategory)?n("div",{staticClass:"recursive-table-block-header",style:t.indent,on:{click:t.toggleChildren}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showChildren,expression:"!showChildren"}],attrs:{icon:"plus-square"}}),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],attrs:{icon:"minus-square"}}),t._v(" "+t._s(t.productCategory.name[t.uLangFromLocale(t.$i18n.locale)])+" ")],1):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:t.productCategory.products&&t.showChildren,expression:"productCategory.products && showChildren"}]},t._l(t.productCategory.products,(function(e){return n("div",{key:e.code},t._l(e.variants,(function(r){return n("div",{key:r.id,staticClass:"recursive-table-body-row"},[n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:1.2}},[n("span",{style:t.indent},[t._v(t._s(e.name[t.uLangFromLocale(t.$i18n.locale)]))])]),n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(e.code)+" ")]),t.jurisdictions.length>1?n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(r.jurisdiction.code)+" ")]):t._e(),n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(r.taxCode?r.taxCode.name[t.uLangFromLocale(t.$i18n.locale)]:t.$t("NA"))+" ")]),r.recyclingFees[0]?n("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.6}},[t._v(" "+t._s(r.recyclingFees[0].isPercent?t.uMinimumTwoDecimals(r.recyclingFees[0].rate)+"%":t.uFormatPrice(t.uMinimumTwoDecimals(r.recyclingFees[0].rate)))+" ")]):n("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.5}},[t._v(" "+t._s(t.$t("NA"))+" ")]),n("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.5}},[t._v(" "+t._s(t.PRODUCT_UNITS_MASTER[e.quantityUnit])+" ")]),n("div",{staticClass:"recursive-table-body-data",style:{flex:.5}},[t._v(" "+t._s(e.displayOrder)+" ")]),n("div",{staticClass:"recursive-table-body-data",style:{flex:.5}},[null===r.endDate||r.endDate>t.uCurrentDate()?n("font-awesome-icon",{attrs:{icon:"check-circle"}}):t._e(),null!==r.endDate&&r.endDate<=t.uCurrentDate()?n("font-awesome-icon",{attrs:{icon:"times-circle"}}):t._e()],1),n("div",{staticClass:"recursive-table-body-data left-align table-data-icon-width"},[n("router-link",{staticClass:"btn icon-btn",attrs:{tag:"button",to:{name:t.productCategory.type===t.PRODUCT_CATEGORY_FINANCIAL?"financialProduct":"variant",params:{variantId:r.id}}}},[t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?[n("font-awesome-icon",{attrs:{icon:["fa","edit"],title:t.$t("update")}})]:[n("font-awesome-icon",{attrs:{icon:["fa","eye"],title:t.$t("view")}})]],2)],1)])})),0)})),0),t._l(t.productCategory.productCategories,(function(e){return n("RecursiveVariantTable",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],key:e.id,attrs:{productCategory:e,depth:t.depth+1,jurisdictions:t.jurisdictions}})}))],2)},a=[],i=n("9ab4"),o=n("2fe1"),c=n("60a3"),s=n("2e75");function u(t){return u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&d(t.prototype,e),n&&d(t,n),t}function p(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},h(t)}function y(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}var g=function(t){function e(){var t;return l(this,e),t=p(this,h(e).apply(this,arguments)),t.showChildren=!0,t}return y(e,t),f(e,[{key:"toggleChildren",value:function(){this.showChildren=!this.showChildren}},{key:"indent",get:function(){return{paddingLeft:"".concat(30*this.depth,"px")}}}]),e}(Object(o["c"])(s["a"]));Object(i["a"])([Object(c["b"])()],g.prototype,"productCategory",void 0),Object(i["a"])([Object(c["b"])()],g.prototype,"depth",void 0),Object(i["a"])([Object(c["b"])()],g.prototype,"jurisdictions",void 0),g=Object(i["a"])([Object(c["a"])({name:"RecursiveVariantTable"})],g);var m=g,_=m,C=(n("7479"),n("2877")),w=Object(C["a"])(_,r,a,!1,null,"7398b114",null);e["a"]=w.exports},bd5d:function(t,e,n){},cab3:function(t,e,n){"use strict";var r=n("0650"),a=n.n(r);a.a},e679:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container parent-page-container"},[n("div",{staticClass:"table-header"},[n("p",{staticClass:"table-title"},[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_JURISDICTION_PRODUCTS))+" ")]),t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?n("router-link",{staticClass:"btn primary-action-btn",attrs:{tag:"button",to:{name:"newVariant"}}},[n("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_CREATE_JURISDICTIONAL_PRODUCT))+" ")],1):t._e()],1),n("div",{staticClass:"recursive-table"},[n("div",{staticClass:"table-filter-bar"},[n("div",{staticClass:"table-filter-icon"},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),n("div",{staticClass:"table-filter"},[n("JurisdictionTag",{attrs:{displayOne:!1},on:{changeEvent:t.createFilter},model:{value:t.selectedJurisdiction,callback:function(e){t.selectedJurisdiction=e},expression:"selectedJurisdiction"}})],1),n("div",{staticClass:"table-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{inputActive:""!==t.name},attrs:{type:"text",name:"Name",placeholder:t.$t("name")},domProps:{value:t.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.createFilter())},input:function(e){e.target.composing||(t.name=e.target.value)}}})]),n("div",{staticClass:"table-filter"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",class:{inputActive:""!==t.code},attrs:{type:"text",name:"Code",placeholder:t.$t("code")},domProps:{value:t.code},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.preventDefault(),t.createFilter())},input:function(e){e.target.composing||(t.code=e.target.value)}}})]),n("div",{staticClass:"table-filter"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.productActive,expression:"productActive"}],staticClass:"custom-select",class:{inputActive:!1===t.productActive},on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.productActive=e.target.multiple?n:n[0]},function(e){return e.preventDefault(),t.createFilter()}]}},t._l(t.productStatuses,(function(e){return n("option",{key:e.value,domProps:{value:e.value}},[t._v(" "+t._s(e.name)+" ")])})),0)]),n("div",{staticClass:"table-filter-clear"},[t.defaultFilter!==t.filter?n("font-awesome-icon",{attrs:{icon:"times",title:t.$t("clearFilter")},on:{click:function(e){return t.removeFilter()}}}):t._e()],1)]),n("div",{staticClass:"recursive-table-header"},[n("div",{staticClass:"recursive-table-header-data left-align",style:{flex:1.2,indent:t.indent}},[t._v(" "+t._s(t.$t("name"))+" ")]),n("div",{staticClass:"recursive-table-header-data left-align",style:{flex:.5}},[t._v(" "+t._s(t.$t("code"))+" ")]),t.jurisdictions.length>1?n("div",{staticClass:"recursive-table-header-data left-align",style:{flex:.5,indent:t.indent}},[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_JURISDICTION).substring(0,4))+". ")]):t._e(),n("div",{staticClass:"recursive-table-header-data left-align",style:{flex:.5}},[t._v(" "+t._s(t.$t("taxCode"))+" ")]),n("div",{staticClass:"recursive-table-header-data right-align",style:{flex:.6}},[t._v(" "+t._s(t.$t("currentRate"))+" ")]),n("div",{staticClass:"recursive-table-header-data left-align",style:{flex:.5}},[t._v(" "+t._s(t.$t("unit"))+" ")]),n("div",{staticClass:"recursive-table-header-data",style:{flex:.5}},[t._v(" "+t._s(t.$t("order"))+" ")]),n("div",{staticClass:"recursive-table-header-data",style:{flex:.5}},[t._v(" "+t._s(t.$t("status"))+" ")]),n("div",{staticClass:"recursive-table-header-data table-data-icon-width"})]),t.variantReady?n("div",{ref:"recursiveTableBody",staticClass:"recursive-table-body"},t._l(t.productCategories,(function(e){return n("div",{key:e.id,staticClass:"parent-recursive-table-block"},[n("RecursiveVariantTable",{attrs:{productCategory:e,depth:0,jurisdictions:t.jurisdictions}})],1)})),0):t._e(),n("div",{staticClass:"table-empty-loading-state"},[t.variantReady?t._e():n("div",{staticClass:"table-loading"},[n("LoadingIcon")],1),n("div",{directives:[{name:"show",rawName:"v-show",value:t.noResults&&t.variantReady,expression:"noResults && variantReady"}],staticClass:"table-empty-state large-text"},[t._v(" "+t._s(t.$t("emptyState.variants"))+" ")])])])])])},a=[],i=n("a34a"),o=n.n(i),c=n("9ab4"),s=n("2fe1"),u=n("60a3"),l=n("2f62"),d=n("bc3a"),f=n.n(d),p=n("2e75"),v=n("88c3"),h=n("a8fd"),y=n("c5af"),b=n("65c9"),g=n("7358");function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function _(t,e,n,r,a,i,o){try{var c=t[i](o),s=c.value}catch(u){return void n(u)}c.done?e(s):Promise.resolve(s).then(r,a)}function C(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var i=t.apply(e,n);function o(t){_(i,r,a,o,c,"next",t)}function c(t){_(i,r,a,o,c,"throw",t)}o(void 0)}))}}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function j(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function k(t,e){return!e||"object"!==m(e)&&"function"!==typeof e?R(t):e}function R(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},P(t)}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}function S(t,e){return S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},S(t,e)}var E=function(t){function e(){var t;return w(this,e),t=k(this,P(e).apply(this,arguments)),t.productCategories={},t.jurisdictions=[],t.productStatuses=[{name:v["a"].tc("allStatus"),value:!1},{name:v["a"].tc("active"),value:!0}],t.agencyId=0,t.selectedJurisdiction=-1,t.endDate="",t.productCategory="",t.name="",t.code="",t.variantReady=!1,t.productActive=!0,t.defaultFilter="?active=true&",t.filter="?active=true&",t.noResults=!1,t.productCategoryDepth=1,t}return x(e,t),j(e,[{key:"mounted",value:function(){var t=C(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.uSetSupportToggle(this.SUPPORT_PANEL_PRODUCTS),!this.currentUser){t.next=9;break}if(!this.currentUser.agencyUser){t.next=9;break}return this.agencyId=this.currentUser.agencyUser.agency.id,t.next=6,this.getList("jurisdictions","agency=".concat(this.agencyId));case 6:e=t.sent,n=e.data,this.jurisdictions=n;case 9:this.getListProducts();case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updated",value:function(){this.hasResults()}},{key:"createFilter",value:function(){var t=C(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.filter="?",this.productCategory&&(this.filter+="product_category=".concat(this.productCategory,"&")),this.name&&(this.filter+="variant_name=".concat(this.name,"&")),this.code&&(this.filter+="variant_code=".concat(this.code,"&")),this.selectedJurisdiction>=0&&(this.filter+="jurisdiction=".concat(this.selectedJurisdiction,"&")),this.productActive&&(this.filter+="active=true&"),this.getListProducts();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"removeFilter",value:function(){var t=C(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.productCategory="",this.name="",this.productActive=!0,this.code="",this.selectedJurisdiction=-1,this.filter="?active=true&",this.getListProducts();case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getListProducts",value:function(){var t=this;f.a.get("".concat("http://localhost:8000/api","/list-products/").concat(this.filter,"today=true&type=").concat(this.PRODUCT_CATEGORY_REGULAR)).then((function(e){t.productCategories=t.uRecursiveCamel(e.data);for(var n=0;n<t.productCategories.length;n+=1)t.populateProductCategory(t.productCategories[n])})).catch((function(e){t.uRequestErrorHandler(e)})).finally((function(){t.variantReady=!0}))}},{key:"populateProductCategory",value:function(t){if(t.productCategories&&t.productCategories.length>0)for(var e=t.productCategories.sort((function(t,e){return t.displayOrder-e.displayOrder})),n=0;n<e.length;n+=1)this.populateProductCategory(e[n])}},{key:"hasResults",value:function(){this.$refs.recursiveTableBody&&(this.noResults=this.$refs.recursiveTableBody.clientHeight<10)}},{key:"indent",get:function(){return{marginLeft:"".concat(30*this.productCategoryDepth,"px")}}}]),e}(Object(s["c"])(p["a"],g["a"]));E=Object(c["a"])([Object(u["a"])({components:{RecursiveVariantTable:h["a"],LoadingIcon:y["a"],JurisdictionTag:b["a"]},computed:Object(l["b"])(["currentUser","instructions"])})],E);var I=E,T=I,U=(n("5306"),n("2877")),A=Object(U["a"])(T,r,a,!1,null,"6386ff88",null);e["default"]=A.exports},f7fb:function(t,e,n){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d0af07e"],{"12f1":function(t,e,a){},1887:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container parent-page-container no-header-container"},[t.filing.participant?a("div",{staticClass:"table-header"},[a("router-link",{staticClass:"btn secondary-action-btn form-back-btn ml-0",attrs:{tag:"button",to:{name:"filingStart",params:{menuState:"1",participantId:t.participantId}}}},[a("font-awesome-icon",{attrs:{icon:"angle-left"}})],1),a("p",{staticClass:"table-title table-title--left"},[t._v(" "+t._s(t.uFormatRegistrationNo(t.filing.participant.remitter))+" "),a("font-awesome-icon",{attrs:{icon:"circle"}}),t._v(" "+t._s(t.filing.participant.businessName)+" ")],1),a("div",{staticClass:"table-filing-status large-text"},[a("span",{staticClass:"status-text",class:{"state--notification":t.filing.status===t.FILING_STATUS_IN_PROGRESS||t.filing.status===t.FILING_STATUS_SUBMITTED,"state--success":t.filing.status===t.FILING_STATUS_APPROVED}},[t._v(" "+t._s(t.FILING_STATUS[t.filing.status])+" ")])])],1):t._e(),a("div",{staticClass:"table-header-properties-bar"},[a("div",{staticClass:"table-header-property"},[t._v(" "+t._s(t.uFormatFilingNo(t.filing))+" ")]),a("div",{staticClass:"table-header-property",domProps:{textContent:t._s(t.filing.filingPeriod?t.filing.filingPeriod.name:"")}}),a("div",{staticClass:"table-header-property"},[t.filing.type===t.FILING_TYPES_SPECIAL?[t._v(" "+t._s(t.uFindInstruction(t.DISPLAY_SPECIAL_FILER))+" ")]:[t._v(" "+t._s(t.FILING_TYPES[t.filing.type])+" ")]],2),t.filing.reason?a("div",{staticClass:"table-header-property"},[t._v(" "+t._s(t.INVOICE_REASONS_MASTER[t.filing.reason])+" ")]):t._e()]),t.currentUser.agencyUser&&t.uHasGroup(t.USER_GROUP_AGENCY_FILING)?a("Alert",{attrs:{text:t.$t("usingFilingAsAgencyUser")}}):t._e(),a("div",{staticClass:"recursive-table"},[a("div",{staticClass:"recursive-table-header"},[a("div",{staticClass:"recursive-table-header-data left-align",style:{flex:1.2}},[a("span",{style:t.indent},[t._v(t._s(t.$t("product")))])]),a("div",{staticClass:"recursive-table-header-data table-data-icon-width"}),a("div",{staticClass:"recursive-table-header-data left-align",style:{flex:.8}},[t._v(" "+t._s(t.$t("size"))+" ")]),a("div",{staticClass:"recursive-table-header-data left-align",style:{flex:.8}},[t._v(" "+t._s(t.$t("quantity"))+" ")]),a("div",{staticClass:"recursive-table-header-data right-align",style:{flex:.7}},[t._v(" "+t._s(t.$t("rate$"))+" ")]),a("div",{staticClass:"recursive-table-header-data right-align"},[t._v(" "+t._s(t.$t("total"))+" ")])]),t.filingReady?a("div",{ref:"recursiveTableBody",staticClass:"recursive-table-body"},t._l(t.filingCart,(function(e){return a("div",{key:e.id,staticClass:"parent-recursive-table-block"},[a("RecursiveFilingVariantTable",{attrs:{productCategory:e,depth:0,filing:t.filing,allTotals:t.allTotals},on:{calculateTotal:t.calculateTotal,addCartItem:t.addCartItem}})],1)})),0):t._e(),a("div",{staticClass:"table-empty-loading-state"},[t.filingReady?t._e():a("div",{staticClass:"table-loading"},[a("LoadingIcon")],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.noResults&&t.filingReady,expression:"noResults && filingReady"}],staticClass:"table-empty-state large-text"},[t._v(" "+t._s(t.$t("emptyState.filingApp"))+" ")])]),!t.noResults&&t.filingReady?a("div",{staticClass:"recursive-table-body-row recursive-table-body-footer"},[a("div",{staticClass:"recursive-table-body-data left-align",style:{flex:3}},[t._v(" "+t._s(t.$t("amountBeforeTax"))+" ")]),a("div",{staticClass:"recursive-table-body-data"}),a("div",{staticClass:"recursive-table-body-data"}),a("div",{staticClass:"recursive-table-body-data"}),a("div",{staticClass:"recursive-table-body-data right-align"},[t._v(" "+t._s(t.uFormatPrice(t.total))+" ")])]):t._e()]),!t.noResults&&t.filingReady?a("div",{staticClass:"table-footer-options"},[a("div",{staticClass:"table-action-block"},[a("div",{staticClass:"flex-spacer"}),a("NoteList",{attrs:{notes:t.filingNotes,loading:t.notesLoading}}),a("div",{staticClass:"table-action-block-form"},[a("form",[a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("b-form-checkbox",{staticClass:"form-check-input",attrs:{type:"checkbox"},model:{value:t.isNilReturn,callback:function(e){t.isNilReturn=e},expression:"isNilReturn"}}),a("label",{staticClass:"form-check-label"},[t._v(" "+t._s(t.$t("nothingToReport"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.FILINGPAGE_INFOTIP_ISNIL)}})],1)],1)]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("addNote")))]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.filingNote,expression:"filingNote"}],staticClass:"form-control",domProps:{value:t.filingNote},on:{input:function(e){e.target.composing||(t.filingNote=e.target.value)}}})])])])],1),t.filing.status<=t.FILING_STATUS_IN_PROGRESS?a("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.disableSaveButton,type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveFiling(t.productCategories,!1)}}},[t._v(" "+t._s(t.$t("save"))+" ")]):t._e(),t.filing.status===t.FILING_STATUS_SUBMITTED&&(t.uHasGroup(t.USER_GROUP_AGENCY_FILING)||t.uHasGroup(t.USER_GROUP_PARTICIPANT_APPROVER))?a("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.submitted||!(t.uHasGroup(t.USER_GROUP_PARTICIPANT_APPROVER)||t.uHasGroup(t.USER_GROUP_AGENCY_FILING)),type:"submit"},on:{click:function(e){return e.preventDefault(),t.openApproveModal()}}},[t._v(" "+t._s(t.$t("approve"))+" ")]):t._e(),t.filing.status===t.FILING_STATUS_SUBMITTED&&(t.uHasGroup(t.USER_GROUP_PARTICIPANT_APPROVER)||t.uHasGroup(t.USER_GROUP_AGENCY_FILING))?a("button",{staticClass:"btn secondary-action-btn",attrs:{disabled:t.submitted||t.filing.reason===t.INVOICE_REASONS_COMPLIANCE&&t.uHasGroup(t.USER_GROUP_PARTICIPANT_APPROVER),type:"submit"},on:{click:function(e){return e.preventDefault(),t.rejectFiling()}}},[t._v(" "+t._s(t.$t("rejectFiling"))+" ")]):t._e(),t.filing.status<=t.FILING_STATUS_IN_PROGRESS?a("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.disableSaveButton,type:"submit"},on:{click:function(e){return e.preventDefault(),t.saveFiling(t.productCategories,!0)}}},[t._v(" "+t._s(t.$t("saveAndSubmit"))+" ")]):t._e(),a("router-link",{staticClass:"btn secondary-action-btn",attrs:{tag:"button",to:{name:"filingStart",params:{menuState:"1",participantId:t.participantId}}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),t.filing.status<=t.FILING_STATUS_SUBMITTED&&t.uHasGroup(t.USER_GROUP_AGENCY_FILING)?a("button",{staticClass:"btn secondary-action-btn",attrs:{disabled:t.submitted,type:"submit"},on:{click:function(e){return e.preventDefault(),t.openDeleteModal(t.filing.id)}}},[t._v(" "+t._s(t.$t("deleteFiling"))+" ")]):t._e(),t.uHasGroup(t.USER_GROUP_PARTICIPANT_DATA)||t.uHasGroup(t.USER_GROUP_AGENCY_FILING)?t._e():a("div",{},[t._v(" "+t._s(t.$t("higherPermissionsRequired"))+" ")]),0===t.total&&t.totalEntries>0?a("div",{staticClass:"form-warning-message form-warning-message--permissions message-no-top-padding"},[t._v(" "+t._s(t.$t("totalZeroValid"))+" ")]):t._e(),t.isNilReturn&&t.total>0?a("div",{staticClass:"form-error-message--permissions message-no-top-padding"},[t._v(" "+t._s(t.$t("nilReturnNoFilingItems"))+" ")]):t._e(),t.uConfig(t.MAX_FILING_AMOUNT)&&t.total>t.uConfig(t.MAX_FILING_AMOUNT)||t.total>t.MAX_FILING_SIZE?a("div",{staticClass:"form-error-message--permissions message-no-top-padding"},[t._v(" "+t._s(t.$t("filingIsTooLarge"))+" ")]):t._e(),t.uConfig(t.MAX_FILING_AMOUNT)&&t.total<-1*t.uConfig(t.MAX_FILING_AMOUNT)||t.total<-1*t.MAX_FILING_SIZE?a("div",{staticClass:"form-error-message--permissions message-no-top-padding"},[t._v(" "+t._s(t.$t("filingIsTooSmall"))+" ")]):t._e(),t.filing.reason===t.INVOICE_REASONS_COMPLIANCE&&t.uIsParticipantUser()?a("div",{staticClass:"form-error-message--permissions"},[t._v(" "+t._s(t.$t("agencyUserRequired"))+" ")]):t._e()],1):t._e()],1),a("ConfirmationModal",{attrs:{showModal:t.showDeleteModal,deleteId:t.filingDeleteId},on:{delete:t.deleteFiling,cancel:t.cancelModal}},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("deleteFiling")))]),a("div",{attrs:{slot:"body"},slot:"body"},[t._v(" "+t._s(t.$t("deleteFilingConfirmation"))+" ")])]),a("ConfirmationModal",{attrs:{showModal:t.showApproveModal,object:t.filing},on:{ok:t.approveFiling,cancel:t.cancelModal}},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("approveFiling")))]),a("div",{attrs:{slot:"body"},slot:"body"},[a("div",{staticClass:"table-action-form"},[a("div",{staticClass:"instruction-text",domProps:{innerHTML:t._s(t.uFindInstruction(this.FILINGREVIEWPAGE_INSTRUC_DECLA))}}),a("div",{staticClass:"filing-approve-block"},[a("b-form-checkbox",{staticClass:"form-check-input custom-control-inline",attrs:{type:"checkbox"},model:{value:t.certifyChecked,callback:function(e){t.certifyChecked=e},expression:"certifyChecked"}}),a("span",{staticClass:"instruction-text",domProps:{innerHTML:t._s(t.uFindInstruction(this.FILINGREVIEWPAGE_INSTRUC_APPRO))}})],1)])])])],1)},n=[],o=a("a34a"),r=a.n(o),s=a("9ab4"),l=a("2fe1"),c=a("60a3"),u=a("bc3a"),d=a.n(u),p=a("2f62"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"recursive-table-block-header",style:t.indent,on:{click:t.toggleChildren}},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showChildren,expression:"!showChildren"}],attrs:{icon:"chevron-right"}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],attrs:{icon:"chevron-down"}}),t._v(" "+t._s(t.productCategory.name[t.uLangFromLocale(t.$i18n.locale)])+" "),a("span",{staticClass:"table-header-total"},[t._v(t._s(t.uFormatPrice(t.total)))])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}]},[t._l(t.productCategory.cartItems,(function(e){return a("div",{key:"cartItem-"+e.variant.id,staticClass:"recursive-table-body-row"},[t.productCategory.hasSizeRanges?t._e():[a("div",{staticClass:"recursive-table-body-data left-align",style:{flex:1.2}},[a("span",{style:t.indent},[a("b-link",{staticClass:"table-link",attrs:{tabindex:"-1"},on:{click:function(a){return t.showProductInfoModal(e.product.id)}}},[t._v(" "+t._s(e.product.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])],1)]),a("div",{staticClass:"recursive-table-body-data table-data-icon-width"}),a("div",{staticClass:"recursive-table-body-data left-align",style:{flex:.8}}),a("div",{staticClass:"recursive-table-body-data",style:{flex:.8}},[a("label",{staticClass:"input-label-wrap",attrs:{"data-domain":t.PRODUCT_UNITS_MASTER[e.product.quantityUnit]}},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"integer",expression:"'integer'"},{name:"model",rawName:"v-model",value:e.quantity,expression:"cartItem.quantity"}],staticClass:"form-control",attrs:{name:"quantity-"+e.product.id,disabled:t.filing.status>t.FILING_STATUS_IN_PROGRESS},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,"quantity",a.target.value)},function(a){return t.computeAmount(e)}]}})])]),a("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.7}},[a("div",[t._v(" "+t._s(t.uFormatPrice(t.uMinimumTwoDecimals(e.variant.rate)))+" "),a("span",{staticClass:"grey-text table-unit"},[t._v(" /"+t._s(t.PRODUCT_UNITS_MASTER[e.product.quantityUnit])+" ")])])]),a("div",{staticClass:"recursive-table-body-data right-align"},[t._v(" "+t._s(t.uFormatPrice(e.totalAmount))+" "),t.uConfig(t.MAX_FILING_AMOUNT)&&Math.abs(e.totalAmount)>t.uConfig(t.MAX_FILING_AMOUNT)||Math.abs(e.totalAmount)>t.MAX_FILING_SIZE?a("span",{staticClass:"form-error-message"},[t._v(" "+t._s(t.$t("maxFilingItemAmount"))+" ")]):t._e()])]],2)})),0===t.productCategory.cartItems.length&&0===t.productCategory.rangeVariants.length&&0===t.productCategory.productCategories.length?a("div",{staticClass:"recursive-table-body-empty-state"},[t._v(" "+t._s(t.$t("emptyState.filingVariants"))+" ")]):t._e(),t._l(t.productCategory.rangeVariants,(function(e){return a("div",{key:"variant-"+e.variant.id,staticClass:"recursive-table-body-row"},[t.productCategory.hasSizeRanges?[a("VariantProductRow",{attrs:{rangeVariant:e,filing:t.filing,depth:t.depth},on:{addCartItem:t.addCartItem,cartItemSelected:t.showProductInfoModal,calculateTotal:t.calculateTotal}})]:t._e()],2)}))],2),a("ProductInfoModal",{attrs:{selectedProductId:t.selectedProductId,showModal:t.showModal},on:{hideModal:function(e){t.showModal=!1}}}),t._l(t.productCategory.productCategories,(function(e){return a("RecursiveFilingVariantTable",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],key:"category-"+e.id,attrs:{productCategory:e,depth:t.depth+1,filing:t.filing},on:{addCartItem:t.addCartItem,calculateTotal:t.calculateTotal}})}))],2)},h=[],m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper modal-dialog"},[a("div",{staticClass:"modal-container modal-content"},[a("div",{staticClass:"modal-header"},[a("p",{staticClass:"modal-title"},[t._v(t._s(t.$t("viewProduct")))])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("name"))+":")]),t._v(" "+t._s(t.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])]),a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("code"))+":")]),t._v(" "+t._s(t.code)+" ")])]),a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("description"))+":")]),a("span",{staticStyle:{"white-space":"pre-wrap"},domProps:{innerHTML:t._s(t.description[t.uLangFromLocale(t.$i18n.locale)])}})])]),a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("quantityUnit"))+":")]),t._v(" "+t._s(t.PRODUCT_UNITS_MASTER[t.quantityUnit])+" ")])]),a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("category"))+":")]),t._v(" "+t._s(t.productCategory[t.uLangFromLocale(t.$i18n.locale)])+" ")])]),a("div",{staticClass:"detail-list"})]),t.productComponents.length>0?a("ProductComponentsTable",{attrs:{productComponents:t.productComponents,small:!0}}):t._e()],1),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.$emit("hideModal")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")])])])])])])],1):t._e()},v=[],b=a("2e75"),g=a("1f24"),y=a("edfe");function _(t){return _="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function C(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e,a){return e&&I(t.prototype,e),a&&I(t,a),t}function O(t,e){return!e||"object"!==_(e)&&"function"!==typeof e?w(t):e}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t){return N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},N(t)}function T(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}function R(t,e){return R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},R(t,e)}var P=function(t){function e(){var t;return C(this,e),t=O(this,N(e).apply(this,arguments)),t.name="",t.code="",t.description="",t.quantityUnit=-1,t.productCategory=0,t.productComponents=[],t}return T(e,t),S(e,[{key:"updateShowModal",value:function(t){this.showModal=t,this.selectedProductId>0?this.getProduct():this.showModal=!1}},{key:"getProduct",value:function(){var t=this;d.a.get("".concat("http://localhost:8000/api","/products/").concat(this.selectedProductId,"/")).then((function(e){var a=t.uRecursiveCamel(e.data);t.name=a.name,t.code=a.code,t.description=a.description,t.quantityUnit=a.quantityUnit,t.productCategory=a.productCategory.name,a.components&&a.components.length>0&&(t.productComponents=a.components)})).catch((function(e){t.uRequestErrorHandler(e)}))}}]),e}(Object(l["c"])(b["a"]));Object(s["a"])([Object(c["b"])()],P.prototype,"showModal",void 0),Object(s["a"])([Object(c["b"])()],P.prototype,"selectedProductId",void 0),Object(s["a"])([Object(c["d"])("showModal")],P.prototype,"updateShowModal",null),P=Object(s["a"])([Object(c["a"])({components:{Tooltip:g["a"],ProductComponentsTable:y["a"]}})],P);var A=P,j=A,E=(a("7ce6"),a("2877")),x=Object(E["a"])(j,m,v,!1,null,"c20f5f9c",null),F=x.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{style:{width:"100%"}},[t.rangeVariant.product.minSize!==t.rangeVariant.product.maxSize?a("div",{staticClass:"recursive-table-block-header",style:t.indent,on:{click:t.toggleChildren}},[a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:!t.showChildren,expression:"!showChildren"}],attrs:{icon:"chevron-right"}}),a("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}],attrs:{icon:"chevron-down"}}),t.rangeVariant?a("span",[t._v(" "+t._s(t.rangeVariant.product.name[t.uLangFromLocale(t.$i18n.locale)])+" "),a("span",{staticClass:"recursive-table-block-header-count"},[t._v(" "+t._s(t.rangeVariant.cartItems.length)+" ")])]):t._e(),a("span",{staticClass:"table-header-total"},[t._v(t._s(t.uFormatPrice(t.total)))])],1):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showChildren,expression:"showChildren"}]},[t._l(t.rangeVariant.cartItems,(function(e,i){return a("div",{key:e.id,staticClass:"recursive-table-body-row"},[a("div",{staticClass:"recursive-table-body-data left-align",style:{flex:1.2}},[a("span",{style:t.indent},[a("b-link",{staticClass:"table-link",attrs:{tabindex:"-1"},on:{click:function(e){return t.showProductInfoModal()}}},[t._v(" "+t._s(e.product.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])],1)]),a("div",{staticClass:"recursive-table-body-data table-data-icon-width right-align"},[a("Tooltip",{attrs:{tooltip:t.errors.first("size_"+e.id),error:!0}})],1),a("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.8}},[t.rangeVariant.product.minSize!==t.rangeVariant.product.maxSize?a("label",{staticClass:"input-label-wrap",attrs:{"data-domain":t.PRODUCT_UNITS_MASTER[e.product.quantityUnit]}},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:{min_value:e.product.minSize,max_value:e.product.maxSize},expression:"{\n                     min_value: cartItem.product.minSize,\n                     max_value: cartItem.product.maxSize\n                   }"},{name:"model",rawName:"v-model",value:e.size,expression:"cartItem.size"}],staticClass:"form-control",attrs:{name:"size_"+e.id,disabled:t.filing.status>t.FILING_STATUS_IN_PROGRESS},domProps:{value:e.size},on:{input:[function(a){a.target.composing||t.$set(e,"size",a.target.value)},function(a){return t.computeAmount(e,i)}]}})]):t._e(),t.rangeVariant.product.minSize===t.rangeVariant.product.maxSize?a("div",[t._v(" "+t._s(e.size)+" "),a("span",{staticClass:"grey-text table-unit"},[t._v(" "+t._s(t.PRODUCT_UNITS_MASTER[e.product.quantityUnit])+" ")])]):t._e()]),a("div",{staticClass:"recursive-table-body-data",style:{flex:.8}},[a("label",{staticClass:"input-label-wrap",attrs:{"data-domain":t.$t("constants.each")}},[a("input",{directives:[{name:"validate",rawName:"v-validate",value:"integer",expression:"'integer'"},{name:"model",rawName:"v-model",value:e.quantity,expression:"cartItem.quantity"}],staticClass:"form-control",attrs:{name:"quantity-"+i,disabled:t.filing.status>t.FILING_STATUS_IN_PROGRESS},domProps:{value:e.quantity},on:{input:[function(a){a.target.composing||t.$set(e,"quantity",a.target.value)},function(a){return t.computeAmount(e,i)}]}})])]),a("div",{staticClass:"recursive-table-body-data right-align",style:{flex:.7}},[a("div",[t._v(" "+t._s(t.uFormatPrice(t.uMinimumTwoDecimals(e.variant.rate)))+" "),a("span",{staticClass:"grey-text table-unit"},[t._v(" /"+t._s(t.PRODUCT_UNITS_MASTER[e.product.quantityUnit])+" ")])])]),a("div",{staticClass:"recursive-table-body-data right-align"},[t._v(" "+t._s(t.uFormatPrice(e.totalAmount))+" "),t.uConfig(t.MAX_FILING_AMOUNT)&&Math.abs(e.totalAmount)>t.uConfig(t.MAX_FILING_AMOUNT)||Math.abs(e.totalAmount)>t.MAX_FILING_SIZE?a("span",{staticClass:"form-error-message"},[t._v(" "+t._s(t.$t("maxFilingItemAmount"))+" ")]):t._e()])])})),t.filing.status!==t.FILING_STATUS_IN_PROGRESS&&t.filing.status!==t.FILING_STATUS_NEW||t.rangeVariant.product.minSize===t.rangeVariant.product.maxSize?t._e():a("div",{staticClass:"table-add-row",on:{click:function(e){return e.preventDefault(),t.addRow()}}},[a("div",{staticClass:"recursive-table-body-data",style:{width:"100%",textAlign:"left"}},[a("span",{style:t.indent},[a("font-awesome-icon",{attrs:{icon:"plus"}}),t._v(" "+t._s(t.$t("addVariantRow"))+" ")],1)])])],2)])},U=[];function M(t){return M="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M(t)}function G(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function $(t,e,a){return e&&L(t.prototype,e),a&&L(t,a),t}function z(t,e){return!e||"object"!==M(e)&&"function"!==typeof e?V(t):e}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(t){return q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},q(t)}function D(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&H(t,e)}function H(t,e){return H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},H(t,e)}var B=function(t){function e(){var t;return G(this,e),t=z(this,q(e).apply(this,arguments)),t.showChildren=!0,t.showModal=!1,t.selectedProductId=0,t.total=0,t}return D(e,t),$(e,[{key:"mounted",value:function(){this.calculateTotal()}},{key:"addRow",value:function(){this.$emit("addCartItem",this.rangeVariant.variant.id)}},{key:"computeAmount",value:function(t,e){Number.isNaN(Number(t.quantity))?t.totalAmount="":t.totalAmount=(Number(t.quantity)*Number(t.variant.rate)*Number(t.size)).toFixed(2),this.calculateTotal()}},{key:"calculateTotal",value:function(){this.total=0;for(var t=0;t<this.rangeVariant.cartItems.length;t+=1)this.total+=Number(this.rangeVariant.cartItems[t].totalAmount);this.$emit("calculateTotal")}},{key:"showProductInfoModal",value:function(){this.$emit("cartItemSelected",this.rangeVariant.product.id)}},{key:"toggleChildren",value:function(){this.showChildren=!this.showChildren}},{key:"indent",get:function(){return{paddingLeft:"".concat(30*(this.depth+1),"px")}}}]),e}(Object(l["c"])(b["a"]));Object(s["a"])([Object(c["b"])()],B.prototype,"rangeVariant",void 0),Object(s["a"])([Object(c["b"])()],B.prototype,"filing",void 0),Object(s["a"])([Object(c["b"])()],B.prototype,"depth",void 0),B=Object(s["a"])([Object(c["a"])({name:"RecursiveFilingVariantTable",components:{ProductInfoModal:F,Tooltip:g["a"]}})],B);var X=B,Y=X,Z=(a("7cec"),Object(E["a"])(Y,k,U,!1,null,"0ee79ea4",null)),W=Z.exports;function J(t){return J="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J(t)}function K(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Q(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function tt(t,e,a){return e&&Q(t.prototype,e),a&&Q(t,a),t}function et(t,e){return!e||"object"!==J(e)&&"function"!==typeof e?at(t):e}function at(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function it(t){return it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},it(t)}function nt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}function ot(t,e){return ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ot(t,e)}var rt=function(t){function e(){var t;return K(this,e),t=et(this,it(e).apply(this,arguments)),t.showChildren=!0,t.total=0,t.showModal=!1,t.selectedProductId=0,t}return nt(e,t),tt(e,[{key:"mounted",value:function(){this.calculateTotal()}},{key:"updateRouteParams",value:function(){this.calculateTotal()}},{key:"calculateTotal",value:function(){this.total=0;for(var t=0;t<this.productCategory.productCategories.length;t+=1)this.calculateCategoryTotal(this.productCategory.productCategories[t]);for(var e=0;e<this.productCategory.cartItems.length;e+=1)this.total+=Number(this.productCategory.cartItems[e].totalAmount);for(var a=0;a<this.productCategory.rangeVariants.length;a+=1)for(var i=0;i<this.productCategory.rangeVariants[a].cartItems.length;i+=1)this.total+=Number(this.productCategory.rangeVariants[a].cartItems[i].totalAmount);this.$emit("calculateTotal")}},{key:"calculateCategoryTotal",value:function(t){for(var e=0;e<t.productCategories.length;e+=1)this.calculateCategoryTotal(t.productCategories[e]);for(var a=0;a<t.cartItems.length;a+=1)this.total+=Number(t.cartItems[a].totalAmount);for(var i=0;i<t.rangeVariants.length;i+=1)for(var n=0;n<t.rangeVariants[i].cartItems.length;n+=1)this.total+=Number(t.rangeVariants[i].cartItems[n].totalAmount)}},{key:"computeAmount",value:function(t){Number.isNaN(Number(t.quantity))?t.totalAmount="":(t.size?t.size=t.size:t.size="1",t.quantity=t.quantity,t.totalAmount=(Number(t.quantity)*Number(t.variant.rate)*Number(t.size)).toFixed(2)),this.calculateTotal()}},{key:"addCartItem",value:function(t){this.$emit("addCartItem",t)}},{key:"toggleChildren",value:function(){this.showChildren=!this.showChildren}},{key:"showProductInfoModal",value:function(t){this.selectedProductId=t,this.showModal=!0}},{key:"indent",get:function(){return{paddingLeft:"".concat(30*this.depth,"px")}}}]),e}(Object(l["c"])(b["a"]));Object(s["a"])([Object(c["b"])()],rt.prototype,"productCategory",void 0),Object(s["a"])([Object(c["b"])()],rt.prototype,"depth",void 0),Object(s["a"])([Object(c["b"])()],rt.prototype,"filing",void 0),Object(s["a"])([Object(c["d"])("productCategory")],rt.prototype,"updateRouteParams",null),rt=Object(s["a"])([Object(c["a"])({name:"RecursiveFilingVariantTable",components:{ProductInfoModal:F,VariantProductRow:W}})],rt);var st=rt,lt=st,ct=(a("2ebb"),Object(E["a"])(lt,f,h,!1,null,"228d6ad2",null)),ut=ct.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"notes-list"},[a("div",{staticClass:"list-title"},[t._v(t._s(t.$t("pastNotes")))]),a("div",{staticClass:"notes-list-items"},t._l(t.notes,(function(e){return a("div",{key:e.id,staticClass:"note-list-item"},[t._v(" "+t._s(e.date)+" • "+t._s(e.text)+" ")])})),0),0!==t.notes.length||t.loading?t._e():a("div",{staticClass:"list-empty-state"},[t._v(" "+t._s(t.$t("emptyState.notes"))+" ")]),0===t.notes.length&&t.loading?a("div",{staticClass:"list-empty-state"},[a("LoadingIcon",{attrs:{smallList:!0}})],1):t._e()])},pt=[],ft=a("c5af");function ht(t){return ht="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(t)}function mt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){return!e||"object"!==ht(e)&&"function"!==typeof e?bt(t):e}function bt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t){return gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gt(t)}function yt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_t(t,e)}function _t(t,e){return _t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},_t(t,e)}var Ct=function(t){function e(){return mt(this,e),vt(this,gt(e).apply(this,arguments))}return yt(e,t),e}(Object(l["c"])(b["a"]));Object(s["a"])([Object(c["b"])()],Ct.prototype,"notes",void 0),Object(s["a"])([Object(c["b"])()],Ct.prototype,"loading",void 0),Ct=Object(s["a"])([Object(c["a"])({components:{LoadingIcon:ft["a"]}})],Ct);var It=Ct,St=It,Ot=(a("7a3f"),Object(E["a"])(St,dt,pt,!1,null,"6fac0d67",null)),wt=Ot.exports,Nt=a("0f7b"),Tt=a("98ab");function Rt(t){return Rt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rt(t)}function Pt(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(c){return void a(c)}s.done?e(l):Promise.resolve(l).then(i,n)}function At(t){return function(){var e=this,a=arguments;return new Promise((function(i,n){var o=t.apply(e,a);function r(t){Pt(o,i,n,r,s,"next",t)}function s(t){Pt(o,i,n,r,s,"throw",t)}r(void 0)}))}}function jt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Et(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function xt(t,e,a){return e&&Et(t.prototype,e),a&&Et(t,a),t}function Ft(t,e){return!e||"object"!==Rt(e)&&"function"!==typeof e?kt(t):e}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ut(t){return Ut=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ut(t)}function Mt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}function Gt(t,e){return Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Gt(t,e)}var Lt=function(t){function e(){var t;return jt(this,e),t=Ft(this,Ut(e).apply(this,arguments)),t.showDeleteModal=!1,t.filingDeleteId=0,t.productCategories={},t.total=0,t.filingId=0,t.participantId=0,t.totalEntries=0,t.filing={},t.allTotals={},t.filingReady=!1,t.filingPromises=[],t.submitted=!1,t.filingNote="",t.filingNotes=[],t.isNilReturn=!1,t.showApproveModal=!1,t.certifyChecked=!1,t.disableSaveButton=!1,t.notesLoading=!1,t.productCategoryDepth=1,t.filingCart=[],t.noResults=!1,t}return Mt(e,t),xt(e,[{key:"updateRouteParams",value:function(t){this.filingId=Number(t.params.filingId),this.participantId=Number(t.params.participantId)}},{key:"mounted",value:function(){var t=At(r.a.mark((function t(){var e,a,i;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.uSetSupportToggle(this.SUPPORT_PANEL_FILINGPAGE),this.filingId=Number(this.$route.params.filingId),this.participantId=Number(this.$route.params.participantId),t.prev=3,t.next=6,d.a.get("".concat("http://localhost:8000/api","/filings/").concat(this.filingId,"/"));case 6:return e=t.sent,this.filing=this.uRecursiveCamel(e.data),this.isNilReturn=this.filing.isNil,t.next=11,d.a.get("".concat("http://localhost:8000/api","/filing-variants/\n?jurisdiction=").concat(this.filing.participant.remitter.jurisdiction.id,"&end_date=").concat(this.filing.filingPeriod.endDate,"&start_date=").concat(this.filing.filingPeriod.startDate));case 11:for(a=t.sent,this.productCategories=this.uRecursiveCamel(a.data),i=0;i<this.productCategories.length;i+=1)this.productCategories[i].type!==this.PRODUCT_CATEGORY_FINANCIAL&&this.filingCart.push(this.createFilingCart(this.productCategories[i]));this.getNotes(),this.filingReady=!0,t.next=21;break;case 18:t.prev=18,t.t0=t["catch"](3),this.uRequestErrorHandler(t.t0);case 21:this.checkDisableSaveButton();case 22:case"end":return t.stop()}}),t,this,[[3,18]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"setDisableSaveButton",value:function(){this.checkDisableSaveButton()}},{key:"checkDisableSaveButton",value:function(){this.disableSaveButton=this.submitted||!(this.uHasGroup(this.USER_GROUP_PARTICIPANT_DATA)||this.uHasGroup(this.USER_GROUP_AGENCY_FILING))||this.isNilReturn&&this.totalEntries>0||!this.isNilReturn&&0===this.totalEntries||this.filing.reason===this.INVOICE_REASONS_COMPLIANCE&&this.uIsParticipantUser()||this.uConfig(this.MAX_FILING_AMOUNT)&&Math.abs(this.total)>this.uConfig(this.MAX_FILING_AMOUNT)||Math.abs(this.total)>this.MAX_FILING_SIZE}},{key:"getNotes",value:function(){var t=At(r.a.mark((function t(){var e;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.notesLoading=!0,t.next=3,d.a.get("".concat("http://localhost:8000/api","/notes/?source_id=").concat(this.filingId)+"&source=".concat(this.NOTE_SOURCES_FILING));case 3:e=t.sent,this.filingNotes=this.uRecursiveCamel(e.data),this.notesLoading=!1;case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updated",value:function(){this.hasResults()}},{key:"addCartItem",value:function(t){for(var e=0;e<this.filingCart.length;e+=1)this.addCartItemToCategory(this.filingCart[e],t)}},{key:"addCartItemToCategory",value:function(t,e){for(var a=0;a<t.productCategories.length;a+=1)this.addCartItemToCategory(t.productCategories[a],e);for(var i=0;i<t.rangeVariants.length;i+=1){var n=t.rangeVariants[i];if(n.variant.id===e){var o="1";t.hasSizeRanges&&(o=n.product.minSize!==n.product.maxSize?"":String(n.product.minSize));var r={id:t.rangeVariants[i].cartItems.length,product:{id:n.product.id,name:n.product.name,code:n.product.code,quantityUnit:n.product.quantityUnit,minSize:n.product.minSize,maxSize:n.product.maxSize},variant:{id:n.variant.id,rate:n.variant.recyclingFees[0].rate},quantity:"",size:o,totalAmount:""};t.rangeVariants[i].cartItems.push(r)}}}},{key:"createFilingCart",value:function(t){var e=this,a=[],i={id:t.id,name:t.name,hasSizeRanges:t.hasSizeRanges,productCategories:[],cartItems:[],rangeVariants:[],displayOrder:t.displayOrder};if(t.productCategories&&t.productCategories.length>0)for(var n=t.productCategories,o=0;o<n.length;o+=1)a.push(this.createFilingCart(n[o]));var r=a.sort((function(t,e){return t.displayOrder-e.displayOrder}));if(i.productCategories=r,t.products.length>0&&this.filing.filingItems){for(var s=[],l=[],c=t.products,u=0;u<c.length;u+=1){var d=c[u];d.variants&&d.variants[0]&&function(){var a=d.variants[0],n=[],o={product:d,variant:a,cartItems:n};if(a.recyclingFees.length>0){for(var r=!1,c=0;c<e.filing.filingItems.length;c+=1){var u="1";t.hasSizeRanges&&(u=o.product.minSize!==o.product.maxSize?"":String(o.product.minSize));var p={id:l.length,product:{id:d.id,name:d.name,code:d.code,quantityUnit:d.quantityUnit,minSize:d.minSize,maxSize:d.maxSize},variant:{id:a.id,rate:a.recyclingFees[0].rate},quantity:"",size:u,totalAmount:""},f=e.filing.filingItems[c];f.variant===a.id&&(r=!0,p.quantity=f.quantity,p.size=f.size?f.size:1,p.totalAmount=(f.quantity*a.recyclingFees[0].rate*f.size).toFixed(2),t.hasSizeRanges?l.push(p):s.push(p))}if(!r){var h="1";t.hasSizeRanges&&(h=o.product.minSize!==o.product.maxSize?"":String(o.product.minSize));var m={id:l.length,product:{id:d.id,name:d.name,code:d.code,quantityUnit:d.quantityUnit,minSize:d.minSize,maxSize:d.maxSize},variant:{id:a.id,rate:a.recyclingFees[0].rate},quantity:"",size:h,totalAmount:""};if(t.hasSizeRanges)l.push(m);else{var v=s.find((function(t){return t.variant.id===a.id}));v||s.push(m)}}}o.cartItems=l,i.rangeVariants.push(o),l=[]}()}i.cartItems=s}return i}},{key:"saveFiling",value:function(){var t=At(r.a.mark((function t(e,a){var i=this;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.submitted=!0,a?this.filingPromises.push(d.a.patch("".concat("http://localhost:8000/api","/filings/").concat(this.filing.id,"/"),{status:this.FILING_STATUS_SUBMITTED,submitted_by:this.currentUser.id,is_nil:this.isNilReturn,filing_cart:this.filingCart,filing_note:this.filingNote}).then((function(){i.$router.push({name:"filingStart",params:{menuState:"2",participantId:String(i.participantId)}})})).catch((function(t){i.uRequestErrorHandler(t)}))):this.filingPromises.push(d.a.patch("".concat("http://localhost:8000/api","/filings/").concat(this.filing.id,"/"),{status:this.FILING_STATUS_IN_PROGRESS,is_nil:this.isNilReturn,filing_cart:this.filingCart,filing_note:this.filingNote}).then((function(){i.$router.push({name:"filingStart",params:{menuState:"1",participantId:String(i.participantId)}})})).catch((function(t){i.uRequestErrorHandler(t)}))),this.submitted=!1;case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"rejectFiling",value:function(){var t=this;d.a.patch("".concat("http://localhost:8000/api","/filings/").concat(this.filing.id,"/"),{status:this.FILING_STATUS_IN_PROGRESS,submitted_by:null,filing_note:this.filingNote}).then((function(){t.$router.go(0)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"openApproveModal",value:function(){this.showApproveModal=!0}},{key:"openDeleteModal",value:function(t){this.showDeleteModal=!0,this.filingDeleteId=t}},{key:"deleteFiling",value:function(){var t=At(r.a.mark((function t(e,a){var i=this;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.submitted=!0,d.a.delete("".concat("http://localhost:8000/api","/filings/").concat(a,"/")).then((function(){i.$router.push({name:"filingStart",params:{menuState:"1",participantId:String(i.participantId)}})})).catch((function(t){i.submitted=!1,i.uRequestErrorHandler(t)})),this.showDeleteModal=!1;case 3:case"end":return t.stop()}}),t,this)})));function e(e,a){return t.apply(this,arguments)}return e}()},{key:"approveFiling",value:function(){var t=At(r.a.mark((function t(){var e=this;return r.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitted=!0,t.next=3,d.a.patch("".concat("http://localhost:8000/api","/filings/").concat(this.filing.id,"/"),{status:this.FILING_STATUS_APPROVED,approved_by:this.currentUser.id}).then((function(){e.$router.push({name:"filingStart",params:{menuState:"3",participantId:String(e.participantId)}})})).catch((function(t){e.submitted=!1,e.uRequestErrorHandler(t)}));case 3:this.showApproveModal=!1;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"cancelModal",value:function(){this.showApproveModal=!1,this.showDeleteModal=!1}},{key:"calculateTotal",value:function(){this.total=0,this.totalEntries=0;for(var t=0;t<this.filingCart.length;t+=1)this.calculateCategoryTotal(this.filingCart[t])}},{key:"calculateCategoryTotal",value:function(t){for(var e=0;e<t.productCategories.length;e+=1)this.calculateCategoryTotal(t.productCategories[e]);for(var a=0;a<t.cartItems.length;a+=1)this.total+=Number(t.cartItems[a].totalAmount),this.totalEntries+=Math.abs(Number(t.cartItems[a].totalAmount));for(var i=0;i<t.rangeVariants.length;i+=1)for(var n=0;n<t.rangeVariants[i].cartItems.length;n+=1)this.total+=Number(t.rangeVariants[i].cartItems[n].totalAmount),this.totalEntries+=Math.abs(Number(t.rangeVariants[i].cartItems[n].totalAmount))}},{key:"hasResults",value:function(){this.$refs.recursiveTableBody&&(this.noResults=this.$refs.recursiveTableBody.clientHeight<10)}},{key:"indent",get:function(){return{marginLeft:"".concat(30*this.productCategoryDepth,"px")}}}]),e}(Object(l["c"])(b["a"]));Object(s["a"])([Object(c["d"])("$route")],Lt.prototype,"updateRouteParams",null),Object(s["a"])([Object(c["d"])("total")],Lt.prototype,"setDisableSaveButton",null),Object(s["a"])([Object(c["d"])("isNilReturn")],Lt.prototype,"checkDisableSaveButton",null),Lt=Object(s["a"])([Object(c["a"])({components:{RecursiveFilingVariantTable:ut,NoteList:wt,ConfirmationModal:Nt["a"],Tooltip:g["a"],Alert:Tt["a"],LoadingIcon:ft["a"]},computed:Object(p["b"])(["currentUser","instructions"])})],Lt);var $t=Lt,zt=$t,Vt=(a("5eda"),Object(E["a"])(zt,i,n,!1,null,null,null));e["default"]=Vt.exports},"1eb4":function(t,e,a){},"1f24":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.tooltip?a("div",{staticClass:"toggle-tooltip"},[a("b-button",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.html",modifiers:{hover:!0,html:!0}}],class:{"error-tooltip":t.error},attrs:{title:t.tooltip}},[t.error?t._e():a("font-awesome-icon",{attrs:{icon:"question-circle"}}),t.error?a("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e()],1)],1):t._e()},n=[],o=a("9ab4"),r=a("2b0e"),s=a("60a3");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}var m=function(t){function e(){return c(this,e),u(this,p(e).apply(this,arguments))}return f(e,t),e}(r["default"]);Object(o["a"])([Object(s["b"])()],m.prototype,"tooltip",void 0),Object(o["a"])([Object(s["b"])()],m.prototype,"error",void 0),m=Object(o["a"])([Object(s["a"])({})],m);var v=m,b=v,g=(a("e793"),a("2877")),y=Object(g["a"])(b,i,n,!1,null,"2ae22277",null);e["a"]=y.exports},"265b":function(t,e,a){},"28ac":function(t,e,a){"use strict";var i=a("265b"),n=a.n(i);n.a},"2ebb":function(t,e,a){"use strict";var i=a("ae82"),n=a.n(i);n.a},3712:function(t,e,a){},"5eda":function(t,e,a){"use strict";var i=a("12f1"),n=a.n(i);n.a},"744a":function(t,e,a){"use strict";var i=a("c5a7"),n=a.n(i);n.a},"7a3f":function(t,e,a){"use strict";var i=a("1eb4"),n=a.n(i);n.a},"7ce6":function(t,e,a){"use strict";var i=a("d17e"),n=a.n(i);n.a},"7cec":function(t,e,a){"use strict";var i=a("a982"),n=a.n(i);n.a},"98ab":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert"},[a("font-awesome-icon",{style:{marginRight:"12px"},attrs:{icon:"exclamation"}}),t._v(" "+t._s(t.text)+" ")],1)},n=[],o=a("9ab4"),r=a("2b0e"),s=a("60a3");function l(t){return l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==l(e)&&"function"!==typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function f(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},h(t,e)}var m=function(t){function e(){return c(this,e),u(this,p(e).apply(this,arguments))}return f(e,t),e}(r["default"]);Object(o["a"])([Object(s["b"])()],m.prototype,"text",void 0),m=Object(o["a"])([Object(s["a"])({})],m);var v=m,b=v,g=(a("28ac"),a("2877")),y=Object(g["a"])(b,i,n,!1,null,"05e19326",null);e["a"]=y.exports},a982:function(t,e,a){},ae82:function(t,e,a){},c5a7:function(t,e,a){},d17e:function(t,e,a){},e793:function(t,e,a){"use strict";var i=a("3712"),n=a.n(i);n.a},edfe:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container"},[a("p",{staticClass:"table-title",class:{"table-title-small":t.small}},[t._v(" "+t._s(t.$t("productComponents"))+" ")]),a("div",{staticClass:"custom-table",class:{"custom-table-small":t.small}},[a("div",{staticClass:"custom-table-header"},[a("div",{staticClass:"custom-table-header-data left-align",style:{flex:1.2}},[t._v(" "+t._s(t.$t("name"))+" ")]),a("div",{staticClass:"custom-table-header-data left-align",style:{flex:.6}},[t._v(" "+t._s(t.$t("code"))+" ")]),a("div",{staticClass:"custom-table-header-data right-align",style:{flex:.6}},[t._v(" "+t._s(t.$t("quantity"))+" ")])]),a("div",{staticClass:"custom-table-body"},t._l(t.productComponents,(function(e){return a("div",{key:e.id,staticClass:"custom-table-body-row"},[a("div",{staticClass:"custom-table-body-data left-align",style:{flex:1.2}},[t._v(" "+t._s(e.productName[t.uLangFromLocale(t.$i18n.locale)])+" ")]),a("div",{staticClass:"custom-table-body-data left-align",style:{flex:.6}},[t._v(" "+t._s(e.productCode)+" ")]),a("div",{staticClass:"custom-table-body-data right-align",style:{flex:.6}},[t._v(" "+t._s(e.quantity)+" ")])])})),0),0===t.productComponents.length?a("div",{staticClass:"table-empty-state large-text"},[t._v(" "+t._s(t.$t("emptyState.productComponents"))+" ")]):t._e()])])])},n=[],o=a("9ab4"),r=a("2fe1"),s=a("60a3"),l=a("2e75");function c(t){return c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){return!e||"object"!==c(e)&&"function"!==typeof e?p(t):e}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},f(t)}function h(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}function m(t,e){return m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},m(t,e)}var v=function(t){function e(){return u(this,e),d(this,f(e).apply(this,arguments))}return h(e,t),e}(Object(r["c"])(l["a"]));Object(o["a"])([Object(s["b"])()],v.prototype,"productComponents",void 0),Object(o["a"])([Object(s["b"])()],v.prototype,"small",void 0),v=Object(o["a"])([Object(s["a"])({})],v);var b=v,g=b,y=(a("744a"),a("2877")),_=Object(y["a"])(g,i,n,!1,null,"1d093075",null);e["a"]=_.exports}}]);
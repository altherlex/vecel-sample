(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c59d04c0"],{"0419":function(t,e,n){"use strict";var a=n("b7e9"),i=n.n(a);i.a},4298:function(t,e,n){"use strict";var a=n("536f"),i=n.n(a);i.a},"4e08":function(t,e,n){},"536f":function(t,e,n){},8302:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Navbar",{attrs:{participant:t.participant,parentParticipant:t.parentParticipant,backButton:{name:"participants"}}},[n("template",{slot:"router-tabs"},[n("b-nav-item",[n("div",{staticClass:"router-tab",class:{"router-link-active":1===t.menuState},on:{click:function(e){return t.setState(1)}}},[t._v(" "+t._s(t.$t("claims"))+" ")])]),n("b-nav-item",[n("div",{staticClass:"router-tab",class:{"router-link-active":2===t.menuState},on:{click:function(e){return t.setState(2)}}},[t._v(" "+t._s(t.$t("approve"))+" ")])]),n("b-nav-item",[n("div",{staticClass:"router-tab",class:{"router-link-active":3===t.menuState},on:{click:function(e){return t.setState(3)}}},[t._v(" "+t._s(t.$t("pending"))+" ")])]),n("b-nav-item",[n("div",{staticClass:"router-tab",class:{"router-link-active":4===t.menuState},on:{click:function(e){return t.setState(4)}}},[t._v(" "+t._s(t.$t("paid"))+" ")])])],1)],2),n("div",{staticClass:"container parent-page-container action-navbar-container"},[1===t.menuState?n("div",[n("ClaimsTable",{attrs:{participant:t.participant}})],1):t._e(),2===t.menuState?n("div"):t._e(),3===t.menuState?n("div"):t._e(),4===t.menuState?n("div"):t._e()])],1)},i=[],r=n("a34a"),o=n.n(r),s=n("9ab4"),c=n("2fe1"),u=n("60a3"),l=n("2f62"),p=n("2e75"),f=n("7358"),m=n("d178"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"table-header"},[n("p",{staticClass:"table-title"},[t._v(t._s(t.$t("claims")))]),n("button",{staticClass:"btn primary-action-btn",on:{click:function(e){return t.showClaimsModal()}}},[t._v(" "+t._s(t.$t("createClaim"))+" ")])]),n("CustomTable",{attrs:{data:t.claims,columns:[[t.$t("claimNo"),"","claimNo",1,"left"],[t.$t("business"),"","business",1,"left"],[t.$t("recordDate"),"","recordDate",1,"left"],[t.$t("type"),"","type",1,"left"],[t.$t("status"),"","status",1,"left"]],loading:t.claimsLoading,emptyStateMessage:t.$t("emptyState.claims"),totalData:t.totalClaims,scrollWidth:1120},on:{toggleOptions:t.toggleOptions,dataRequest:t.getClaims}},[n("template",{slot:"filters"},[n("div",{staticClass:"table-filter-bar"},[n("div",{staticClass:"table-filter-icon"},[n("font-awesome-icon",{attrs:{icon:"search"}})],1),n("div",{staticClass:"table-filter-clear"},[n("font-awesome-icon",{attrs:{icon:"times",title:t.$t("clearFilter")},on:{click:function(e){return t.removeFilter()}}})],1)])])],2),n("NewClaimModal",{attrs:{participantId:t.participant.id,showModal:t.showModal},on:{claimCreated:function(e){return t.getClaims()},hideModal:function(e){t.showModal=!1}}})],1)},b=[],v=n("c5af"),h=n("25bf"),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.showModal?n("div",[n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper modal-dialog"},[n("div",{staticClass:"modal-container modal-content"},[n("div",{staticClass:"modal-header"},[n("p",{staticClass:"modal-title"},[t._v(" "+t._s(t.$t("createClaim"))+" ")])]),n("div",{staticClass:"modal-body modal-body-minimum"},[n("form",[n("div",{staticClass:"form-group"},[n("label",[t._v(" "+t._s(t.$t("business"))+" ")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.business,expression:"business"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select",attrs:{name:"business"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.business=e.target.multiple?n:n[0]}}},[n("option",{attrs:{disabled:"",value:""}},[t._v(t._s(t.$t("selectBusiness")))]),t._l(t.businesses,(function(e){return n("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(t.uFormatRegistrationNo(e))+" Â· "+t._s(e.participant.businessName)+" ")])}))],2),n("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("business")))])]),n("div",{staticClass:"form-group"},[n("label",[t._v(" "+t._s(t.$t("type"))+" "),n("Tooltip",{attrs:{tooltip:"hello"}})],1),n("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],staticClass:"custom-select",attrs:{options:t.uConstants(t.CLAIM_TYPES_MASTER,t.uConfig(t.CLAIM_TYPES)),name:"type"},scopedSlots:t._u([{key:"first",fn:function(){return[n("option",{attrs:{disabled:""},domProps:{value:-1}},[t._v(t._s(t.$t("selectType")))])]},proxy:!0}],null,!1,1854253206),model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),n("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("type")))])],1)])]),n("div",{staticClass:"modal-footer"},[t._t("footer",[n("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.$emit("hideModal")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),n("button",{staticClass:"btn primary-action-btn",on:{click:function(e){return e.preventDefault(),t.submitForm()}}},[t._v(" "+t._s(t.$t("create"))+" ")])])],2)])])])])],1):t._e()},_=[],w=n("ea76"),S=n.n(w),O=n("1f24");function g(t){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function C(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,i)}function k(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function o(t){C(r,a,i,o,s,"next",t)}function s(t){C(r,a,i,o,s,"throw",t)}o(void 0)}))}}function j(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function $(t,e,n){return e&&P(t.prototype,e),n&&P(t,n),t}function T(t,e){return!e||"object"!==g(e)&&"function"!==typeof e?M(t):e}function M(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t){return x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},x(t)}function I(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}var N=function(t){function e(){var t;return j(this,e),t=T(this,x(e).apply(this,arguments)),t.type=-1,t.business={},t.businesses=[],t}return I(e,t),$(e,[{key:"updateShowModal",value:function(t){this.showModal=t}},{key:"getClaimsBusinesses",value:function(){var t=k(o.a.mark((function t(){var e,n;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.participantId){t.next=7;break}return this.businesses=[],t.next=4,this.getList("generators","parent_participant=".concat(this.participantId));case 4:e=t.sent,n=e.data,this.businesses=n;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"mounted",value:function(){this.getClaimsBusinesses()}},{key:"submitForm",value:function(){var t=k(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.post("claims",{participant_id:this.business.participant.id,type:this.type});case 2:this.$emit("claimCreated"),this.$emit("hideModal");case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),e}(Object(c["c"])(p["a"],f["a"]));Object(s["a"])([Object(u["b"])()],N.prototype,"showModal",void 0),Object(s["a"])([Object(u["b"])()],N.prototype,"participantId",void 0),Object(s["a"])([Object(u["d"])("showModal")],N.prototype,"updateShowModal",null),Object(s["a"])([Object(u["d"])("participantId")],N.prototype,"getClaimsBusinesses",null),N=Object(s["a"])([Object(u["a"])({components:{Datepicker:S.a,Tooltip:O["a"]}})],N);var L=N,A=L,R=(n("f609"),n("2877")),D=Object(R["a"])(A,y,_,!1,null,"253b7b8e",null),B=D.exports;function F(t){return F="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},F(t)}function q(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,i)}function U(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function o(t){q(r,a,i,o,s,"next",t)}function s(t){q(r,a,i,o,s,"throw",t)}o(void 0)}))}}function Y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function J(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function G(t,e,n){return e&&J(t.prototype,e),n&&J(t,n),t}function W(t,e){return!e||"object"!==F(e)&&"function"!==typeof e?z(t):e}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t){return H=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},H(t)}function K(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Q(t,e)}function Q(t,e){return Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Q(t,e)}var V=function(t){function e(){var t;return Y(this,e),t=W(this,H(e).apply(this,arguments)),t.showModal=!1,t.claimsLoading=!0,t.claims=[],t.totalClaims=0,t.filter={},t}return K(e,t),G(e,[{key:"mounted",value:function(){var t=U(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.getClaims();case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getClaims",value:function(){var t=U(o.a.mark((function t(){var e,n,a,i,r,s=arguments;return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:0,n=s.length>1&&void 0!==s[1]?s[1]:"",this.claimsLoading=!0,this.claims=[],t.next=6,this.getList("claims","",e,this.TABLE_LIMIT,n);case 6:a=t.sent,i=a.data,r=a.count,this.totalClaims=r,this.formatList(i),this.claimsLoading=!1;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"formatList",value:function(t){for(var e=0;e<t.length;e+=1){var n=t[e];this.claims.push({claimNo:n.claimNo,business:n.participant.businessName,recordDate:n.recordDate,type:this.CLAIM_TYPES_MASTER[n.type],status:{value:this.CLAIM_STATUS_MASTER[n.status],pillStyle:this.CLAIM_STATUS_STYLES[n.status]},actions:[{routePath:{name:"claim",params:{claimId:n.id,participantId:this.participant.id}},canEdit:!0}],options:[{addNote:!0,source:this.NOTE_SOURCES_CLAIM,show:!1}],showOptions:!1})}}},{key:"toggleOptions",value:function(t){for(var e=t.showOptions,n=0;n<this.claims.length;n+=1)this.claims[n].showOptions=!1;t.showOptions=!e}},{key:"removeFilter",value:function(){var t=U(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.claims=[],this.filter={},this.getClaims();case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"showClaimsModal",value:function(){this.showModal=!0}}]),e}(Object(c["c"])(p["a"],f["a"]));Object(s["a"])([Object(u["b"])()],V.prototype,"participant",void 0),V=Object(s["a"])([Object(u["a"])({components:{LoadingIcon:v["a"],CustomTable:h["a"],NewClaimModal:B}})],V);var X=V,Z=X,tt=(n("0419"),Object(R["a"])(Z,d,b,!1,null,null,null)),et=tt.exports;function nt(t){return nt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nt(t)}function at(t,e,n,a,i,r,o){try{var s=t[r](o),c=s.value}catch(u){return void n(u)}s.done?e(c):Promise.resolve(c).then(a,i)}function it(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var r=t.apply(e,n);function o(t){at(r,a,i,o,s,"next",t)}function s(t){at(r,a,i,o,s,"throw",t)}o(void 0)}))}}function rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ot(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function st(t,e,n){return e&&ot(t.prototype,e),n&&ot(t,n),t}function ct(t,e){return!e||"object"!==nt(e)&&"function"!==typeof e?ut(t):e}function ut(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lt(t){return lt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},lt(t)}function pt(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ft(t,e)}function ft(t,e){return ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ft(t,e)}var mt=function(t){function e(){var t;return rt(this,e),t=ct(this,lt(e).apply(this,arguments)),t.menuState=1,t.participantId=0,t.parentParticipant={},t.participant={},t}return pt(e,t),st(e,[{key:"created",value:function(){this.menuState=Number(this.$route.params.menuState)||1,this.participantId=Number(this.$route.params.participantId),this.setState(this.menuState)}},{key:"updateProduct",value:function(t){this.menuState=Number(t.params.menuState),this.participantId=Number(t.params.participantId),this.setState(this.menuState),this.getParticipantData()}},{key:"mounted",value:function(){this.getParticipantData()}},{key:"getParticipantData",value:function(){var t=it(o.a.mark((function t(){return o.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.get("participants",this.participantId);case 2:if(this.participant=t.sent,!this.participant||this.participant.type===this.PARTICIPANT_TYPES_GROUP){t.next=7;break}return t.next=6,this.get("participants",this.participant.participant);case 6:this.parentParticipant=t.sent;case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"setState",value:function(t){this.menuState=t,this.$router.currentRoute.params.menuState!==String(t)&&this.$router.replace({name:"claimsStart",params:{menuState:String(t),participantId:String(this.participantId)}})}}]),e}(Object(c["c"])(p["a"],f["a"]));Object(s["a"])([Object(u["d"])("$route")],mt.prototype,"updateProduct",null),mt=Object(s["a"])([Object(u["a"])({components:{Navbar:m["a"],ClaimsTable:et},computed:Object(l["b"])(["currentUser","instructions"])})],mt);var dt=mt,bt=dt,vt=(n("4298"),Object(R["a"])(bt,a,i,!1,null,"762a3e28",null));e["default"]=vt.exports},b7e9:function(t,e,n){},f609:function(t,e,n){"use strict";var a=n("4e08"),i=n.n(a);i.a}}]);
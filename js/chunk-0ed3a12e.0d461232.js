(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0ed3a12e"],{"188f":function(t,i,e){"use strict";var n=e("5f38"),a=e.n(n);a.a},4940:function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("div",{staticClass:"container parent-page-container"},[e("div",{staticClass:"summary-content-block"},[e("div",{staticClass:"summary-content-header"},[e("div",{staticClass:"summary-content-header-title"},[t._v(t._s(t.$t("notifications")))])]),e("div",{staticClass:"summary-content-body",style:{maxHeight:"400px"}},[t.countReady&&0===t.totalRemitters?e("div",{staticClass:"notification-box unread-notification"},[e("div",{style:{flex:2}},[e("div",{staticClass:"notification-title"},[t._v(" "+t._s(t.$t("timeToSetupRemitters"))+" ")]),e("div",{staticClass:"notification-message"},[t._v(" "+t._s(t.$t("regStep5"))+" ")])])]):t._e(),t._l(t.notifications,(function(i){return e("div",{key:i.id},[e("div",{staticClass:"notification-box"},[e("div",{style:{flex:2}},[e("div",{staticClass:"notification-title"},[t._v(" "+t._s(i.subject)+" ")]),e("div",{staticClass:"notification-date"},[t._v(" "+t._s(t.$t("createdOn"))+" "+t._s(i.created)+" ")]),e("div",{staticClass:"notification-message",domProps:{innerHTML:t._s(i.message)}})]),i.priority!==t.COMMUNICATION_PRIORITY_NEWUSER&&t.recipientsNotViewed.some((function(t){return t.communication===i.id}))?e("div",{staticClass:"notification-accept"},[e("a",{on:{click:function(e){return t.acceptNotification(i.id)}}},[t._v(t._s(t.$t("markAsRead")))])]):t._e()])])})),0===t.notifications.length&&t.totalRemitters>0&&t.countReady?e("div",{staticClass:"table-empty-state large-text"},[t._v(" "+t._s(t.$t("emptyState.notifications"))+" ")]):t._e()],2)]),t._l(t.orgDetails,(function(i){return e("div",{key:i.id,staticClass:"summary-organization-row"},[e("div",{staticClass:"summary-organization-row-header"},[e("div",{staticClass:"important-text"},[t._v(" "+t._s(i.organization.businessName)+" ")]),e("router-link",{staticClass:"btn primary-action-btn small-btn",attrs:{tag:"button",to:{name:"filingStart",params:{menuState:1,participantId:i.organization.id}}}},[t._v(" "+t._s(t.$t("fileAsVerb"))+" ")])],1),e("div",{staticClass:"summary-highlights"},[e("div",{staticClass:"summary-highlight"},[i.filings>0?e("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e(),0===i.filings?e("font-awesome-icon",{attrs:{icon:"check-circle"}}):t._e(),e("div",{staticClass:"summary-highlight-title"},[t._v(" "+t._s(i.filings)+" "+t._s(t.$t("filingsToSubmit"))+" ")])],1),e("div",{staticClass:"summary-highlight"},[i.submitted>0?e("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e(),0===i.submitted?e("font-awesome-icon",{attrs:{icon:"check-circle"}}):t._e(),e("div",{staticClass:"summary-highlight-title"},[t._v(" "+t._s(i.submitted)+" "+t._s(t.$t("invoicesToApprove"))+" ")])],1),t.remittanceAppEnabled?e("div",{staticClass:"summary-highlight"},[i.invoices>0?e("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e(),0===i.invoices?e("font-awesome-icon",{attrs:{icon:"check-circle"}}):t._e(),e("div",{staticClass:"summary-highlight-title"},[t._v(" "+t._s(i.invoices)+" "+t._s(t.$t("invoicesToPay"))+" ")])],1):t._e(),t.remittanceAppEnabled?e("div",{staticClass:"summary-highlight"},[i.balance>0?e("font-awesome-icon",{attrs:{icon:"exclamation-circle"}}):t._e(),i.balance<=0?e("font-awesome-icon",{attrs:{icon:"check-circle"}}):t._e(),e("div",{staticClass:"summary-highlight-title"},[t._v(" "+t._s(t.$t("orgBalance"))+": "+t._s(t.uFormatPrice(i.balance))+" ")])],1):t._e()])])}))],2)])},a=[],o=e("a34a"),s=e.n(o),c=e("9ab4"),r=e("2fe1"),u=e("60a3"),l=e("2f62"),f=e("bc3a"),p=e.n(f),h=e("2e75");function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,i,e,n,a,o,s){try{var c=t[o](s),r=c.value}catch(u){return void e(u)}c.done?i(r):Promise.resolve(r).then(n,a)}function d(t){return function(){var i=this,e=arguments;return new Promise((function(n,a){var o=t.apply(i,e);function s(t){v(o,n,a,s,c,"next",t)}function c(t){v(o,n,a,s,c,"throw",t)}s(void 0)}))}}function y(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function g(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _(t,i,e){return i&&g(t.prototype,i),e&&g(t,e),t}function b(t,i){return!i||"object"!==m(i)&&"function"!==typeof i?w(t):i}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},C(t)}function k(t,i){if("function"!==typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&x(t,i)}function x(t,i){return x=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t},x(t,i)}var O=function(t){function i(){var t;return y(this,i),t=b(this,C(i).apply(this,arguments)),t.notifications=[],t.recipients=[],t.recipientsNotViewed=[],t.countReady=!1,t.orgDetails=[],t.organizations=[],t.totalRemitters=0,t.remittanceAppEnabled=!1,t}return k(i,t),_(i,[{key:"mounted",value:function(){this.remittanceAppEnabled=!0,this.getOrganizations(),this.getNotifications()}},{key:"getOrganizations",value:function(){var t=this;p.a.get("".concat("http://localhost:8000/api","/participant-stats/")).then((function(i){t.organizations=t.uRecursiveCamel(i.data),t.orgDetails=t.organizations.orgDetails})).catch((function(i){t.uRequestErrorHandler(i)}))}},{key:"getNotifications",value:function(){var t=d(s.a.mark((function t(){var i,e;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat("http://localhost:8000/api","/communications/"));case 3:return i=t.sent,this.notifications=this.uRecursiveCamel(i.data),t.next=7,p.a.get("".concat("http://localhost:8000/api","/recipients/"));case 7:e=t.sent,this.recipients=this.uRecursiveCamel(e.data),this.recipientsNotViewed=this.recipients.filter((function(t){return!1===t.viewed})),this.acceptNewUserNotification(),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),this.uRequestErrorHandler(t.t0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])})));function i(){return t.apply(this,arguments)}return i}()},{key:"acceptNotification",value:function(){var t=d(s.a.mark((function t(i){var e;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.recipientsNotViewed.filter((function(t){return t.communication===i}))[0],void 0===e){t.next=11;break}return t.prev=2,t.next=5,p.a.patch("".concat("http://localhost:8000/api","/recipients/").concat(e.id,"/"),{viewed:!0});case 5:this.getNotifications(),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),this.uRequestErrorHandler(t.t0);case 11:case"end":return t.stop()}}),t,this,[[2,8]])})));function i(i){return t.apply(this,arguments)}return i}()},{key:"acceptNewUserNotification",value:function(){var t=d(s.a.mark((function t(){var i,e=this;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i=this.notifications.filter((function(t){return t.priority===e.COMMUNICATION_PRIORITY_NEWUSER}))||[],this.currentUser.groups.length>0&&i.length>0&&this.acceptNotification(i[0].id);case 2:case"end":return t.stop()}}),t,this)})));function i(){return t.apply(this,arguments)}return i}()}]),i}(Object(r["c"])(h["a"]));O=Object(c["a"])([Object(u["a"])({computed:Object(l["b"])(["currentUser"])})],O);var N=O,R=N,E=(e("188f"),e("2877")),S=Object(E["a"])(R,n,a,!1,null,"eb404054",null);i["default"]=S.exports},"5f38":function(t,i,e){}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5547c634"],{2674:function(t,e,a){"use strict";var r=a("e62e"),s=a.n(r);s.a},"29af":function(t,e,a){},"5f1d":function(t,e,a){},"7d21":function(t,e,a){},"7f91":function(t,e,a){"use strict";var r=a("7d21"),s=a.n(r);s.a},"81aa":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Navbar",{attrs:{participant:t.parentParticipant,backButton:{name:"participants"}}},[a("template",{slot:"router-tabs"},[a("b-nav-item",[a("div",{staticClass:"router-tab router-link-active"},[t._v(" "+t._s(t.$t("generator"))+" ")])])],1)],2),a("div",{staticClass:"container parent-page-container business-container action-navbar-container"},[1===t.menuState?a("div",[t.parentParticipant?a("GeneratorForm",{attrs:{updating:!1,generatorLoading:!1,parentParticipant:t.parentParticipant}}):t._e()],1):t._e()])],1)},s=[],n=a("a34a"),i=a.n(n),o=a("9ab4"),c=a("2fe1"),u=a("60a3"),l=a("b40a"),p=a("2e75"),d=a("d178"),f=a("7358");function m(t){return m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},m(t)}function v(t,e,a,r,s,n,i){try{var o=t[n](i),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(r,s)}function h(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function i(t){v(n,r,s,i,o,"next",t)}function o(t){v(n,r,s,i,o,"throw",t)}i(void 0)}))}}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e,a){return e&&g(t.prototype,e),a&&g(t,a),t}function y(t,e){return!e||"object"!==m(e)&&"function"!==typeof e?C(t):e}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},O(t)}function P(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}function R(t,e){return R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},R(t,e)}var N=function(t){function e(){var t;return _(this,e),t=y(this,O(e).apply(this,arguments)),t.menuState=1,t.parentParticipantId=0,t.parentParticipant={},t}return P(e,t),b(e,[{key:"created",value:function(){this.parentParticipantId=Number(this.$route.params.parentParticipantId)}},{key:"mounted",value:function(){this.getParticipant(),this.uSetSupportToggle(this.GENERATORFORM_INSTRUC_INTRO)}},{key:"updateRouteParams",value:function(t){this.parentParticipantId=Number(t.params.parentParticipantId),this.getParticipant()}},{key:"getParticipant",value:function(){var t=h(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.get("participants",this.parentParticipantId);case 2:this.parentParticipant=t.sent;case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),e}(Object(c["c"])(p["a"],f["a"]));Object(o["a"])([Object(u["d"])("$route")],N.prototype,"updateRouteParams",null),N=Object(o["a"])([Object(u["a"])({components:{GeneratorForm:l["a"],Navbar:d["a"]}})],N);var T=N,I=T,E=(a("7f91"),a("2877")),S=Object(E["a"])(I,r,s,!1,null,"4dbf13c4",null);e["default"]=S.exports},9588:function(t,e,a){"use strict";var r=a("29af"),s=a.n(r);s.a},b40a:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.generatorLoading?a("div",{staticClass:"table-loading"},[a("LoadingIcon")],1):a("div",[a("div",{staticClass:"form-header"},[t.updating?a("p",{staticClass:"form-title"},[t._v(" "+t._s(t.$t("updateGenerator"))+" ")]):t._e(),t.updating?t._e():a("p",{staticClass:"form-title"},[t._v(" "+t._s(t.$t("createGeneratorFor"))+" "+t._s(t.parentParticipant.businessName)+" ")]),a("div",{staticClass:"flex-spacer"}),!t.generatorLoading&&t.updating?a("div",[t.uIsClaimsAppEnabled()&&t.currentUser.agencyUser&&t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)||t.uIsParticipantUser()?a("router-link",{staticClass:"btn primary-action-btn",attrs:{tag:"button",to:{name:"claimsStart",params:{menuState:"1",participantId:Number(t.participant.id)}}}},[t._v(" "+t._s(t.$t("claim"))+" ")]):t._e()],1):t._e()]),a("div",{staticClass:"form-two-sides"},[a("div",{staticClass:"form-left-side"},[a("form",{staticClass:"padded-form"},[t.status&&t.status>=t.PARTICIPANT_STATUS_ACTIVE?a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("registrationNumber"))+":")]),t._v(" "+t._s(t.uFormatRegistrationNo(t.generator))+" ")])]):t._e(),!t.updating||t.currentUser.agencyUser?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("legacyRegNo")))]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"max:20",expression:"'max:20'"},{name:"model",rawName:"v-model",value:t.legacyRegNo,expression:"legacyRegNo"}],staticClass:"form-control",attrs:{type:"text",name:"Legacy Registration Number"},domProps:{value:t.legacyRegNo},on:{input:function(e){e.target.composing||(t.legacyRegNo=e.target.value)}}})]):t._e(),t.updating&&t.uIsParticipantUser()?a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("legacyRegNo"))+":")]),t._v(" "+t._s(t.legacyRegNo)+" ")])]):t._e(),t.updating&&t.uIsParticipantUser()&&t.uConfig(t.ONLY_AGENCY_UPDATES_BUSINESS_NAME)?t._e():a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("businessName"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_BUSI_NAME)}})],1),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"},{name:"model",rawName:"v-model",value:t.businessName,expression:"businessName"}],staticClass:"form-control",attrs:{type:"text",name:"Business Name"},domProps:{value:t.businessName},on:{input:function(e){e.target.composing||(t.businessName=e.target.value)}}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Business Name")))])]),t.updating&&t.uIsParticipantUser()&&t.uConfig(t.ONLY_AGENCY_UPDATES_BUSINESS_NAME)?a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("businessName"))+":")]),t._v(" "+t._s(t.businessName)+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_BUSI_NAME)}})],1)]):t._e(),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("type")))]),a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],staticClass:"custom-select",attrs:{options:t.generatorTypes,name:"generatorType"},scopedSlots:t._u([{key:"first",fn:function(){return[a("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.$t("selectBusinessType")))])]},proxy:!0}],null,!1,1576338487),model:{value:t.type,callback:function(e){t.type=e},expression:"type"}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("generatorType")))])],1),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("calculationMethod")))]),a("b-form-select",{staticClass:"custom-select",attrs:{options:this.GENERATOR_CALCULATION_TYPES,name:"calculationMethod"},scopedSlots:t._u([{key:"first",fn:function(){return[a("option",{domProps:{value:null}},[t._v(t._s(t.$t("selectCalculationMethod")))])]},proxy:!0}],null,!1,1418243941),model:{value:t.calculationMethod,callback:function(e){t.calculationMethod=e},expression:"calculationMethod"}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("calculationMethod")))])],1),!t.updating||t.currentUser.agencyUser?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("legalName"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.REMITTERFORM_INFOTIP_LEGALNAME)}})],1),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:100",expression:"'required|max:100'"},{name:"model",rawName:"v-model",value:t.legalName,expression:"legalName"}],staticClass:"form-control",attrs:{type:"text",name:"Legal Name"},domProps:{value:t.legalName},on:{input:function(e){e.target.composing||(t.legalName=e.target.value)}}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Legal Name")))])]):t._e(),t.updating&&t.uIsParticipantUser()?a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("legalName"))+":")]),t._v(" "+t._s(t.legalName)+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.REMITTERFORM_INFOTIP_LEGALNAME)}})],1)]):t._e(),t.currentUser.agencyUser?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("registrationDate"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_REGDATE)}})],1),a("Datepicker",{directives:[{name:"validate",rawName:"v-validate",value:t.generator.status!==t.PARTICIPANT_STATUS_NEW&&t.generator.status!==t.PARTICIPANT_STATUS_IN_PROGRESS&&t.generator.status?"required":"",expression:"\n                (generator.status === PARTICIPANT_STATUS_NEW\n                  || generator.status === PARTICIPANT_STATUS_IN_PROGRESS\n                  || !generator.status) ? '' : 'required'"}],attrs:{lang:"en","value-type":"format","data-vv-name":"Registration Date",type:"text",name:"Registration Date",placeholder:t.$t("dateFormat")},model:{value:t.regDate,callback:function(e){t.regDate=e},expression:"regDate"}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Registration Date")))])],1):t._e(),!t.updating||t.currentUser.agencyUser?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("operationsStartDate"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_STARTDATE)}})],1),a("Datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{lang:"en","value-type":"format","data-vv-name":"Operations Start Date",type:"text",name:"Operations Start Date",placeholder:t.$t("dateFormat")},model:{value:t.operationsStartDate,callback:function(e){t.operationsStartDate=e},expression:"operationsStartDate"}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Operations Start Date")))])],1):t._e(),t.updating&&t.currentUser.agencyUser?a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("operationsEndDate")))]),a("Datepicker",{attrs:{lang:"en","value-type":"format",type:"text","data-vv-name":"Operations End Date","not-before":t.uStringDatetoDate(t.operationsStartDate),name:"Operations End Date",placeholder:t.$t("dateFormat")},model:{value:t.operationsEndDate,callback:function(e){t.operationsEndDate=e},expression:"operationsEndDate"}})],1):t._e(),!t.updating||t.currentUser.agencyUser?a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("b-form-checkbox",{staticClass:"form-check-input",attrs:{type:"checkbox"},model:{value:t.isPublicBusiness,callback:function(e){t.isPublicBusiness=e},expression:"isPublicBusiness"}}),a("label",{staticClass:"form-check-label"},[t._v(t._s(t.$t("isPublicBusiness")))]),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_PUBLIC_BUSINESS)}})],1)]):t._e(),t.updating&&t.uIsParticipantUser()?a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("isPublicBusiness"))+":")]),t._v(" "+t._s(t.isPublicBusiness)+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_PUBLIC_BUSINESS)}})],1)]):t._e(),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("businessLink"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_BUSI_LINK)}})],1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.businessLink,expression:"businessLink"}],staticClass:"form-control",attrs:{type:"text",name:"Business Link"},domProps:{value:t.businessLink},on:{input:function(e){e.target.composing||(t.businessLink=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("hoursOfOperation"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_HOURS_OPERATION)}})],1),a("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.hours,expression:"hours"}],staticClass:"form-control text-area-small",attrs:{name:"hours"},domProps:{value:t.hours},on:{input:function(e){e.target.composing||(t.hours=e.target.value)}}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("hours")))])]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("collectors"))+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_COLLECTORS)}})],1),a("textarea",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.collectors,expression:"collectors"}],staticClass:"form-control text-area-small",attrs:{name:"collectors"},domProps:{value:t.collectors},on:{input:function(e){e.target.composing||(t.collectors=e.target.value)}}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("collectors")))])]),t.updating&&t.generator?a("div",{staticClass:"detail-list"},[t.uIsParticipantUser()?a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("operationsStartDate"))+":")]),t._v(" "+t._s(t.generator.operationsStartDate)+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_STARTDATE)}})],1):t._e(),t.operationsEndDate&&t.uIsParticipantUser()?a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("operationsEndDate"))+":")]),t._v(" "+t._s(t.generator.operationsEndDate)+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.REMITTERFORM_INFOTIP_ENDDATE)}})],1):t._e(),t.uIsParticipantUser()?a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("registrationDate"))+":")]),t._v(" "+t._s(t.regDate)+" ")]):t._e(),a("p",[a("span",{staticClass:"list-label"},[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_JURISDICTION))+": ")]),t.jurisdiction&&t.jurisdiction.name[t.uLangFromLocale(t.$i18n.locale)]?a("span",[t._v(" "+t._s(t.jurisdiction.name[t.uLangFromLocale(t.$i18n.locale)])+" ")]):t._e()]),a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("agency"))+":")]),t._v(" "+t._s(t.agencyName[t.uLangFromLocale(t.$i18n.locale)])+" ")])]):t._e(),t.updating?t._e():a("div",[t.currentUser.agencyUser&&1===t.jurisdictions.length?t._e():a("div",{staticClass:"form-group"},[a("label",[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_JURISDICTION))+" ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.jurisdiction,expression:"jurisdiction"},{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"custom-select",attrs:{name:"jurisdiction"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.jurisdiction=e.target.multiple?a:a[0]},function(e){return t.getAgencyName()}]}},[a("option",{attrs:{disabled:"",value:""}},[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_SELECT_JURISDICTION))+" ")]),t._l(t.jurisdictions,(function(e){return a("option",{key:e.id,domProps:{value:e}},[t._v(" "+t._s(e.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])}))],2),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("jurisdiction")))])]),t.currentUser.agencyUser&&1===t.jurisdictions.length?a("div",{staticClass:"form-group"},[a("label",[t._v(" "+t._s(t.uFindInstruction(this.DISPLAY_JURISDICTION))+" ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.jurisdiction,expression:"jurisdiction"}],staticClass:"custom-select",attrs:{name:"jurisdiction"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.jurisdiction=e.target.multiple?a:a[0]}}},[a("option",{key:t.jurisdictions[0].id,domProps:{value:t.jurisdictions[0]}},[t._v(" "+t._s(t.jurisdictions[0].name[t.uLangFromLocale(t.$i18n.locale)])+" ")])]),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("jurisdiction")))])]):t._e(),a("div",{staticClass:"detail-list"},[a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("agency"))+":")]),t._v(" "+t._s(t.agencyName[t.uLangFromLocale(t.$i18n.locale)]))])])]),a("div",{staticClass:"form-actions"},[a("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.uDisableGeneratorDataForm(t.submitted,t.errors.any(),t.status,t.participant?t.participant.id:null,t.updating)||t.updating&&!t.generatorReady,type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitForm()}}},[t._v(" "+t._s(t.updating?t.$t("update"):t.$t("create"))+" ")]),a("router-link",{staticClass:"btn secondary-action-btn",attrs:{tag:"button",to:{name:"participants"}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),null!==t.generator.registrationNo||!t.currentUser.agencyUser||t.generator.status!==t.PARTICIPANT_STATUS_IN_PROGRESS&&t.generator.status!==t.PARTICIPANT_STATUS_NEW?t._e():a("button",{staticClass:"btn negative-action-btn",attrs:{disabled:!t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)},on:{click:function(e){return e.preventDefault(),t.openConfirmDeleteGenerator()}}},[t._v(" "+t._s(t.$t("delete"))+" ")]),t.uIsMasterUser()?t._e():a("div",{staticClass:"form-error-message--permissions"},[t._v(" "+t._s(t.$t("higherPermissionsRequired"))+" ")])],1)])]),a("div",{staticClass:"form-right-side"},[t.updating&&t.generator?a("div",{staticClass:"detail-list detail-list-padded"},[a("p",{staticClass:"detail-list-title"},[t._v(" "+t._s(t.$t("currentHistoryValues"))+" "),t.currentUser.agencyUser?a("button",{staticClass:"btn secondary-action-btn",style:{float:"right"},attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.openGeneratorHistoryForm()}}},[t._v(" "+t._s(t.$t("update"))+" ")]):t._e()]),a("p",[a("span",{staticClass:"list-label"},[t._v(" "+t._s(t.uFindInstruction(this.GENERATORFORM_DISPLAYNAME_DROP_OFF))+": ")]),t._v(" "+t._s(t.generator.isDropOff)+" "),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_DROP_OFF)}})],1),a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("status"))+":")]),t._v(" "+t._s(t.PARTICIPANT_STATUS[t.status])+" ")]),a("p",[a("span",{staticClass:"list-label"},[t._v(t._s(t.$t("reasonCode"))+":")]),t._v(" "+t._s(t.generator.reasonCode?t.PARTICIPANT_STATUS_REASON[t.generator.reasonCode]:t.$t("none"))+" ")])]):t._e(),t.updating&&t.generator?a("div",{staticClass:"detail-list detail-list-padded"},[a("p",{staticClass:"detail-list-title"},[t._v(" "+t._s(t.$t("acceptedProducts"))+" "),a("button",{staticClass:"btn secondary-action-btn",style:{float:"right"},attrs:{type:"submit"},on:{click:function(e){e.preventDefault(),t.showProductModal=!0}}},[t._v(" "+t._s(t.$t("add"))+" ")])]),a("CustomTable",{attrs:{data:t.acceptedProducts,columns:[[t.$t("product"),"","product",1,"left"],[t.$t("dropOffLimit"),"","limit",1,"left"]],loading:!t.generatorReady,emptyStateMessage:t.$t("emptyState.acceptedProducts"),totalData:t.acceptedProducts.length,scrollWidth:200},on:{actionCall:t.deleteProduct}})],1):t._e(),t.updating&&t.generator?a("div",{staticClass:"detail-list detail-list-padded detail-list-actions"},[a("p",{staticClass:"detail-list-title"},[t._v(" "+t._s(t.$t("actions"))+" ")]),t.currentUser.agencyUser&&t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?a("button",{staticClass:"btn secondary-action-btn",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.openMoveModal(t.participant.id)}}},[t._v(" "+t._s(t.$t("moveGenerator"))+" ")]):t._e()]):t._e()])]),a("GeneratorHistoryFormModal",{attrs:{generator:t.generator,showGeneratorHistoryModal:t.showGeneratorHistoryModal},on:{getGenerator:t.getGenerator,getHistoryRecords:t.updateHistoryRecords,hideModal:function(e){t.showGeneratorHistoryModal=!1}}}),a("AcceptedProductModal",{attrs:{showModal:t.showProductModal,generator:t.generator},on:{close:t.updateAcceptedProducts}}),a("ConfirmationModal",{attrs:{showModal:t.showConfirmDeleteGenerator},on:{ok:t.deleteGenerator,cancel:t.cancelDelete}},[a("h3",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(t.$t("confirmChange")))]),a("div",{attrs:{slot:"body"},slot:"body"},[t._v(" "+t._s(t.$t("deleteGeneratorConfirmation"))+" ")])]),a("MoveBusinessModal",{attrs:{showModal:t.showMoveModal,business:t.generator},on:{hideModal:function(e){t.showMoveModal=!1},movedBusiness:function(e){return t.$router.go(0)}}})],1)},s=[],n=a("a34a"),i=a.n(n),o=a("9ab4"),c=a("60a3"),u=a("bc3a"),l=a.n(u),p=a("2f62"),d=a("2fe1"),f=a("ea76"),m=a.n(f),v=a("1f24"),h=a("88c3"),_=a("2e75"),g=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showGeneratorHistoryModal?a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper modal-dialog"},[a("div",{staticClass:"modal-container modal-content"},[a("div",{staticClass:"modal-header"},[a("p",{staticClass:"modal-title"},[t._v(t._s(t.$t("addHistoryRecord")))])]),a("div",{staticClass:"modal-body modal-body-minimum",style:{paddingBottom:"80px"}},[a("div",{staticClass:"flex-spacer"}),a("div",[a("div",{staticClass:"instruction-text instruction-top",domProps:{innerHTML:t._s(t.uFindInstruction(this.GENERATORFORM_INSTRUC_EFFECTIVEDATE))}})]),a("form",[a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("effectiveDate")))]),a("Datepicker",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{"popup-style":{top:"100%",left:0},lang:"en","value-type":"format","data-vv-name":"Effective Date",type:"text",name:"Effective Date",placeholder:t.$t("dateFormat")},on:{change:t.getHistoryRecordAsOf},model:{value:t.effectiveDate,callback:function(e){t.effectiveDate=e},expression:"effectiveDate"}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Effective Date")))])],1),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("status")))]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.status,expression:"status"},{name:"validate",rawName:"v-validate",value:"required|min_value:0",expression:"'required|min_value:0'"}],staticClass:"custom-select",attrs:{disabled:t.effectiveDateValue,name:"generatorStatus"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.status=e.target.multiple?a:a[0]},function(e){e.preventDefault(),t.reasonCodesList=t.uGetReasonCodeList(t.status)}]}},[a("option",{attrs:{disabled:"",value:"-1"}},[t._v(t._s(t.$t("selectGeneratorStatus")))]),t._l(Object.keys(t.statusOptions),(function(e){return a("option",{key:e,domProps:{value:e}},[t._v(" "+t._s(t.statusOptions[e])+" ")])}))],2),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("generatorStatus")))])]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("reasonCode")))]),a("b-form-select",{staticClass:"custom-select",attrs:{disabled:-1===t.status||t.effectiveDateValue,options:t.reasonCodesList,name:"reasonCode"},scopedSlots:t._u([{key:"first",fn:function(){return[a("option",{attrs:{disabled:""},domProps:{value:-1}},[t._v(t._s(t.$t("selectReasonCode")))])]},proxy:!0}],null,!1,317660839),model:{value:t.reasonCode,callback:function(e){t.reasonCode=e},expression:"reasonCode"}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("reasonCode")))])],1),a("div",{staticClass:"form-group"},[a("div",{staticClass:"form-check"},[a("b-form-checkbox",{staticClass:"form-check-input",attrs:{disabled:t.effectiveDateValue,type:"checkbox"},model:{value:t.isDropOff,callback:function(e){t.isDropOff=e},expression:"isDropOff"}}),a("label",{staticClass:"form-check-label"},[t._v(" "+t._s(t.uFindInstruction(this.GENERATORFORM_DISPLAYNAME_DROP_OFF))+" ")]),a("Tooltip",{attrs:{tooltip:t.uFindInstruction(this.GENERATORFORM_INFOTIP_DROP_OFF)}})],1)])])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.$emit("hideModal")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),a("button",{staticClass:"btn primary-action-btn",attrs:{disabled:t.submitted||t.errors.any()||!t.uHasGroup(t.USER_GROUP_AGENCY_MASTER),type:"submit"},on:{click:function(e){return e.preventDefault(),t.submitForm()}}},[t._v(" "+t._s(t.$t("ok"))+" ")])]),t.uHasGroup(t.USER_GROUP_AGENCY_MASTER)?t._e():a("div",{staticClass:"form-error-message--permissions"},[t._v(" "+t._s(t.$t("higherPermissionsRequired"))+" ")])])])])])],1):t._e()},b=[];function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function C(t,e,a,r,s,n,i){try{var o=t[n](i),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(r,s)}function O(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function i(t){C(n,r,s,i,o,"next",t)}function o(t){C(n,r,s,i,o,"throw",t)}i(void 0)}))}}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,a){return e&&R(t.prototype,e),a&&R(t,a),t}function T(t,e){return!e||"object"!==y(e)&&"function"!==typeof e?I(t):e}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(t){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},E(t)}function S(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}function w(t,e){return w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},w(t,e)}var A=function(t){function e(){var t;return P(this,e),t=T(this,E(e).apply(this,arguments)),t.submitted=!1,t.status=-1,t.effectiveDate="",t.reasonCodesList=[],t.isDropOff=!1,t.reasonCode=-1,t.statusOptions={},t}return S(e,t),N(e,[{key:"updateshowGeneratorHistoryModal",value:function(t){this.showGeneratorHistoryModal=t,this.status=-1,this.effectiveDate="",this.reasonCodesList=[],this.isDropOff=!1,this.reasonCode=-1}},{key:"submitForm",value:function(){var t=O(i.a.mark((function t(){var e,a=this;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitted=!0,t.next=3,this.$validator.validate();case 3:e=t.sent,e?l.a.post("".concat("http://localhost:8000/api","/generator-historys/"),{generator:this.generator.id,registration_status:this.status,reason_code:-1===this.reasonCode?0:this.reasonCode,is_drop_off:this.isDropOff,effective_date:this.effectiveDate}).then((function(){a.$emit("getHistoryRecords"),a.$emit("getGenerator"),a.$emit("hideModal")})).catch((function(t){a.uRequestErrorHandler(t)})).finally((function(){a.submitted=!1})):this.submitted=!1;case 5:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getHistoryRecordAsOf",value:function(){var t=this;l.a.get("".concat("http://localhost:8000/api","/generator-historys/?effective_date=").concat(this.effectiveDate)+"&generator=".concat(this.generator.id)).then((function(e){var a=t.uRecursiveCamel(e.data);t.updateGeneratorDetails(a[0])})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"updateGeneratorDetails",value:function(t){t?(this.status=t.registrationStatus,this.reasonCode=t.reasonCode,this.isDropOff=t.isDropOff,this.reasonCodesList=this.uGetReasonCodeList(this.status),this.reasonCode=-1,t.isOperating?this.statusOptions=this.PARTICIPANT_STATUS_OPERATING:this.statusOptions=this.PARTICIPANT_STATUS_REGISTERING):(this.status=-1,this.reasonCodesList=[],this.isDropOff=!0,this.reasonCode=-1,this.statusOptions=this.PARTICIPANT_STATUS)}},{key:"effectiveDateValue",get:function(){return""===this.effectiveDate}}]),e}(Object(d["c"])(_["a"]));Object(o["a"])([Object(c["b"])()],A.prototype,"generator",void 0),Object(o["a"])([Object(c["b"])()],A.prototype,"showGeneratorHistoryModal",void 0),Object(o["a"])([Object(c["d"])("showGeneratorHistoryModal")],A.prototype,"updateshowGeneratorHistoryModal",null),A=Object(o["a"])([Object(c["a"])({components:{Datepicker:m.a,Tooltip:v["a"]},computed:Object(p["b"])(["isLoggedIn","currentUser"])})],A);var D=A,k=D,j=(a("2674"),a("2877")),x=Object(j["a"])(k,g,b,!1,null,"e7c6acca",null),M=x.exports,$=a("0f7b"),F=a("7034"),G=a("c5af"),U=a("7358"),L=a("25bf"),H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showModal?a("div",[a("transition",{attrs:{name:"modal"}},[a("div",{staticClass:"modal-mask"},[a("div",{staticClass:"modal-wrapper modal-dialog"},[a("div",{staticClass:"modal-container modal-content"},[a("div",{staticClass:"modal-header"},[a("p",{staticClass:"modal-title"},[t._v(t._s(t.$t("addProduct")))])]),a("div",{staticClass:"modal-body"},[a("form",[a("div",{staticClass:"form-group"},[a("label",[t._v(" "+t._s(t.$t("product"))+" ")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.product,expression:"product"}],staticClass:"custom-select",attrs:{name:"product"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.product=e.target.multiple?a:a[0]}}},t._l(t.productCategories,(function(e){return a("option",{key:e.id,domProps:{value:e.id}},[t._v(" "+t._s(e.name[t.uLangFromLocale(t.$i18n.locale)])+" ")])})),0)]),a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.$t("dropOffLimit")))]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"max:80",expression:"'max:80'"},{name:"model",rawName:"v-model",value:t.limit,expression:"limit"}],staticClass:"form-control",attrs:{type:"text",name:"Limit"},domProps:{value:t.limit},on:{input:function(e){e.target.composing||(t.limit=e.target.value)}}}),a("span",{staticClass:"form-error-message"},[t._v(t._s(t.errors.first("Limit")))])])])]),a("div",{staticClass:"modal-footer"},[t._t("footer",[a("button",{staticClass:"btn secondary-action-btn",on:{click:function(e){return e.preventDefault(),t.$emit("close")}}},[t._v(" "+t._s(t.$t("cancel"))+" ")]),a("button",{staticClass:"btn primary-action-btn",on:{click:function(e){return e.preventDefault(),t.addProduct()}}},[t._v(" "+t._s(t.$t("ok"))+" ")])])],2)])])])])],1):t._e()},B=[];function q(t){return q="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},q(t)}function Y(t,e,a,r,s,n,i){try{var o=t[n](i),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(r,s)}function J(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function i(t){Y(n,r,s,i,o,"next",t)}function o(t){Y(n,r,s,i,o,"throw",t)}i(void 0)}))}}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function K(t,e,a){return e&&W(t.prototype,e),a&&W(t,a),t}function z(t,e){return!e||"object"!==q(e)&&"function"!==typeof e?Q(t):e}function Q(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X(t){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},X(t)}function Z(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&tt(t,e)}function tt(t,e){return tt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},tt(t,e)}var et=function(t){function e(){var t;return V(this,e),t=z(this,X(e).apply(this,arguments)),t.limit="",t.product=-1,t.productCategories=[],t}return Z(e,t),K(e,[{key:"updateShowModal",value:function(t){this.showModal=t}},{key:"mounted",value:function(){var t=J(i.a.mark((function t(){var e,a,r,s;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=this.uConfig(this.ACCEPTED_PRODUCT_CATEGORIES),a=e.split(","),t.next=4,this.getList("product-categories","type=".concat(this.PRODUCT_CATEGORY_REGULAR));case 4:r=t.sent,s=r.data,this.productCategories=s.filter((function(t){return a.indexOf(t.code)>-1}));case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"addProduct",value:function(){var t=J(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.post("accepted-products",{generator:this.generator.id,category:this.product,drop_off_limit:this.limit});case 2:this.$emit("close");case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),e}(Object(d["c"])(_["a"],U["a"]));Object(o["a"])([Object(c["b"])()],et.prototype,"showModal",void 0),Object(o["a"])([Object(c["b"])()],et.prototype,"generator",void 0),Object(o["a"])([Object(c["d"])("showModal")],et.prototype,"updateShowModal",null),et=Object(o["a"])([Object(c["a"])({components:{},computed:Object(p["b"])(["currentUser"])})],et);var at=et,rt=at,st=(a("d7dd"),Object(j["a"])(rt,H,B,!1,null,"5c837b17",null)),nt=st.exports,it=a("42c2");function ot(t){return ot="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ot(t)}function ct(t,e){return ft(t)||dt(t,e)||lt(t,e)||ut()}function ut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lt(t,e){if(t){if("string"===typeof t)return pt(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?pt(t,e):void 0}}function pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,r=new Array(e);a<e;a++)r[a]=t[a];return r}function dt(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var a=[],r=!0,s=!1,n=void 0;try{for(var i,o=t[Symbol.iterator]();!(r=(i=o.next()).done);r=!0)if(a.push(i.value),e&&a.length===e)break}catch(c){s=!0,n=c}finally{try{r||null==o["return"]||o["return"]()}finally{if(s)throw n}}return a}}function ft(t){if(Array.isArray(t))return t}function mt(t,e,a,r,s,n,i){try{var o=t[n](i),c=o.value}catch(u){return void a(u)}o.done?e(c):Promise.resolve(c).then(r,s)}function vt(t){return function(){var e=this,a=arguments;return new Promise((function(r,s){var n=t.apply(e,a);function i(t){mt(n,r,s,i,o,"next",t)}function o(t){mt(n,r,s,i,o,"throw",t)}i(void 0)}))}}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _t(t,e){for(var a=0;a<e.length;a++){var r=e[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e,a){return e&&_t(t.prototype,e),a&&_t(t,a),t}function bt(t,e){return!e||"object"!==ot(e)&&"function"!==typeof e?yt(t):e}function yt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t){return Ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ct(t)}function Ot(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}function Pt(t,e){return Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Pt(t,e)}var Rt=function(t){function e(){var t;return ht(this,e),t=bt(this,Ct(e).apply(this,arguments)),t.submitted=!1,t.jurisdictions=[],t.productCategories=[],t.generator={},t.showMoveModal=!1,t.businessName="",t.businessLink="",t.legalName="",t.type=null,t.calculationMethod=null,t.operationsStartDate="",t.operationsEndDate="",t.hours="",t.collectors="",t.regDate="",t.isPublicBusiness=!1,t.showConfirmDeleteGenerator=!1,t.legacyRegNo="",t.acceptedProducts=[],t.jurisdiction="",t.status=-1,t.agencyName="",t.agencyCode="",t.showGeneratorHistoryModal=!1,t.showProductModal=!1,t.remittanceAppEnabled=!1,t.generatorReady=!1,t.generatorTypes=[],t}return Ot(e,t),gt(e,[{key:"updateGeneratorId",value:function(t){this.generatorId=t,this.generatorReady=!1,this.getGenerator()}},{key:"mounted",value:function(){var t=vt(i.a.mark((function t(){var e,a,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.generatorTypes=this.uConstants(this.GENERATOR_TYPES_MASTER,this.uConfig(this.GENERATOR_TYPES)),this.remittanceAppEnabled=!0,this.updating&&this.generatorId&&(this.generatorReady=!1,this.getGenerator()),!this.currentUser){t.next=14;break}if(!this.currentUser.agencyUser){t.next=9;break}this.jurisdictions=this.currentUser.agencyUserJurisdictions,this.updating||1===this.jurisdictions.length&&(e=ct(this.jurisdictions,1),this.jurisdiction=e[0],this.getAgencyName()),t.next=14;break;case 9:return t.next=11,this.getList("jurisdictions","");case 11:a=t.sent,r=a.data,this.jurisdictions=r;case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getAgencyName",value:function(){this.agencyName=this.jurisdiction.agency.name}},{key:"deleteGenerator",value:function(){var t=this;this.showConfirmDeleteGenerator=!1;var e=this.generator.participant.participant;l.a.delete("".concat("http://localhost:8000/api","/generators/").concat(this.generatorId,"/")).then((function(){t.$router.push({name:"participant",params:{participantId:String(e)}}),t.$router.go(0)})).catch((function(e){t.uRequestErrorHandler(e)}))}},{key:"submitForm",value:function(){var t=vt(i.a.mark((function t(){var e,a,r,s,n,o=this;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.submitted=!0,t.next=3,this.$validator.validate();case 3:if(e=t.sent,e){t.next=8;break}this.submitted=!1,t.next=35;break;case 8:if(a={legal_name:this.legalName,type:this.type,calculation_method:this.calculationMethod,operations_start_date:this.operationsStartDate,hours:this.hours,collectors:this.collectors,is_public_business:this.isPublicBusiness,legacy_reg_no:this.legacyRegNo,reg_date:""!==this.regDate?this.regDate:null},this.updating){t.next=31;break}return a.jurisdiction_id=this.jurisdiction.id,a.participant={business_name:this.businessName,participant:this.parentParticipant.id,business_link:this.businessLink},t.prev=12,t.next=15,l.a.post("".concat("http://localhost:8000/api","/generators/"),a);case 15:return r=t.sent,t.next=18,l.a.get("".concat("http://localhost:8000/api","/auth/current_user/"));case 18:s=t.sent,n=this.uRecursiveCamel(s.data.user),this.$store.dispatch("update_user",n),this.$store.dispatch("update_token",s.data.token),this.$router.push({name:"participant",params:{participantId:r.data.participant_id}}),t.next=29;break;case 25:t.prev=25,t.t0=t["catch"](12),this.submitted=!1,this.uRequestErrorHandler(t.t0);case 29:t.next=35;break;case 31:a.operations_end_date=""===this.operationsEndDate?null:this.operationsEndDate,a.reg_date=this.regDate,a.participant={business_name:this.businessName,participant:this.participant.id,business_link:this.businessLink},l.a.put("".concat("http://localhost:8000/api","/generators/").concat(this.generatorId,"/"),a).then((function(){o.$emit("generatorUpdated")})).catch((function(t){o.uRequestErrorHandler(t)})).finally((function(){o.submitted=!1}));case 35:case"end":return t.stop()}}),t,this,[[12,25]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getGenerator",value:function(){var t=vt(i.a.mark((function t(){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.generatorReady=!1,t.next=3,this.get("generators",this.generatorId);case 3:this.generator=t.sent,this.businessName=this.generator.participant.businessName,this.businessLink=this.generator.participant.businessLink,this.jurisdiction=this.generator.jurisdiction,this.status=this.generator.status,this.legalName=this.generator.legalName,this.operationsStartDate=this.generator.operationsStartDate,this.operationsEndDate=this.generator.operationsEndDate,this.isPublicBusiness=this.generator.isPublicBusiness,this.hours=this.generator.hours,this.collectors=this.generator.collectors,this.regDate=this.generator.regDate,this.type=this.generator.type,this.calculationMethod=this.generator.calculationMethod,this.agencyName=this.generator.jurisdiction.agency.name,this.agencyCode=this.generator.jurisdiction.agency.code,this.legacyRegNo=this.generator.legacyRegNo,this.updateAcceptedProducts(),this.generatorReady=!0;case 22:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateAcceptedProducts",value:function(){var t=vt(i.a.mark((function t(){var e,a;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.showProductModal=!1,t.next=3,this.getList("accepted-products","generator=".concat(this.generator.id));case 3:e=t.sent,a=e.data,this.formatProducts(a);case 6:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"formatProducts",value:function(t){this.acceptedProducts=[];for(var e=0;e<t.length;e+=1){var a=t[e];this.acceptedProducts.push({id:a.id,product:a.categoryName[this.uLangFromLocale(h["a"].locale)],limit:a.dropOffLimit,actions:[{actionCall:!0,canEdit:!0,delete:!0}]})}}},{key:"deleteProduct",value:function(){var t=vt(i.a.mark((function t(e){return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.delete("accepted-products",e.id);case 2:this.updateAcceptedProducts();case 3:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"openGeneratorHistoryForm",value:function(){this.showGeneratorHistoryModal=!0}},{key:"updateHistoryRecords",value:function(){this.$emit("historyUpdated")}},{key:"openConfirmDeleteGenerator",value:function(){this.showConfirmDeleteGenerator=!0}},{key:"cancelDelete",value:function(){this.showConfirmDeleteGenerator=!1}},{key:"openMoveModal",value:function(){this.showMoveModal=!0}}]),e}(Object(d["c"])(_["a"],U["a"]));Object(o["a"])([Object(c["b"])()],Rt.prototype,"updating",void 0),Object(o["a"])([Object(c["b"])()],Rt.prototype,"generatorId",void 0),Object(o["a"])([Object(c["b"])()],Rt.prototype,"participant",void 0),Object(o["a"])([Object(c["b"])()],Rt.prototype,"parentParticipant",void 0),Object(o["a"])([Object(c["b"])()],Rt.prototype,"generatorLoading",void 0),Object(o["a"])([Object(c["d"])("generatorId")],Rt.prototype,"updateGeneratorId",null),Rt=Object(o["a"])([Object(c["a"])({components:{Datepicker:m.a,Tooltip:v["a"],GeneratorHistoryFormModal:M,ConfirmationModal:$["a"],LoadingIcon:G["a"],CreateFinancialInvoice:F["a"],CustomTable:L["a"],AcceptedProductModal:nt,MoveBusinessModal:it["a"]},computed:Object(p["b"])(["currentUser"])})],Rt);var Nt=Rt,Tt=Nt,It=(a("9588"),Object(j["a"])(Tt,r,s,!1,null,null,null));e["a"]=It.exports},d7dd:function(t,e,a){"use strict";var r=a("5f1d"),s=a.n(r);s.a},e62e:function(t,e,a){}}]);
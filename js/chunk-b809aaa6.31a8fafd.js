(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b809aaa6"],{c255:function(e,t,r){},d49e:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"container parent-page-container"},[r("div",{staticClass:"table-header"},[r("p",{staticClass:"table-title"},[e._v(e._s(e.$t("depositMatch")))]),e.uHasGroup(e.USER_GROUP_AGENCY_FILING)?r("button",{staticClass:"btn primary-action-btn",attrs:{tag:"button"},on:{click:function(t){return t.preventDefault(),e.autoMatch()}}},[e._v(" "+e._s(e.$t("autoMatchDeposits"))+" ")]):e._e()]),r("CustomTable",{attrs:{data:e.deposits,columns:[[e.$t("importId"),"id","id",1,"left"],[e.$t("accountNumber"),"account_number","accountNumber",1,"left"],[e.$t("customer"),"customer_name","customerName",1.5,"left"],[e.$t("receivedDate"),"received_date","receivedDate",1,"left"],[e.$t("depositType"),"deposit_type","depositType",1,"left"],[e.$t("reference"),"","confirmationCode",1,"left"],[e.$t("amount"),"","amount",1,"right"],[e.$t("fileCreationDate"),"","fileCreationDate",1,"left"],[e.$t("systemFileSerialNo"),"","systemFileSerialNo",1,"left"],[e.$t("systemFileSerialDate"),"system_file_serial_date","systemFileSerialDate",1,"left"],[e.$t("remconBox"),"","remconBox",1,"left"],[e.$t("fiCode"),"","fiCode",1,"left"],[e.$t("batchNumber"),"batch_number","batchNumber",1,"left"],[e.$t("dateOfPayment"),"","dateOfPayment",1,"left"],[e.$t("fileTraceNumber"),"","fileTraceNumber",1,"left"],[e.$t("sequenceNumber"),"sequence_number","sequenceNumber",1,"left"],[e.$t("cumulativeAmountForBatch"),"","cumulativeAmountForBatch",1,"right"],[e.$t("cumulativeAmountForFile"),"","cumulativeAmountForFile",1,"right"],[e.$t("accountNumberOverflow1"),"","accountNumberOverflow1",1,"left"],[e.$t("accountNumberOverflow2"),"","accountNumberOverflow2",1,"left"],[e.$t("accountNumberOverflow3"),"","accountNumberOverflow3",1,"left"],[e.$t("accountNumberOverflow4"),"","accountNumberOverflow4",1,"left"]],loading:!e.depositsReady,emptyStateMessage:e.$t("emptyState.deposits"),totalData:e.totalData,scrollWidth:2400,filter:e.filter},on:{dataRequest:e.getDeposits}},[r("template",{slot:"filters"},[0===e.deposits.length&&"?"===e.filter&&e.depositsReady?e._e():r("div",{staticClass:"table-filter-bar"},[r("div",{staticClass:"table-filter-icon"},[r("font-awesome-icon",{attrs:{icon:"search"}})],1),r("div",{staticClass:"table-filter"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.accountNumber,expression:"accountNumber"}],staticClass:"form-control",class:{inputActive:""!==e.accountNumber},attrs:{type:"text",name:"Account Number",placeholder:e.$t("accountNumber")},domProps:{value:e.accountNumber},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.createFilter())},input:function(t){t.target.composing||(e.accountNumber=t.target.value)}}})]),r("div",{staticClass:"table-filter"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.receivedDate,expression:"receivedDate"}],staticClass:"form-control",class:{inputActive:""!==e.receivedDate},attrs:{type:"text",name:"Received Date",placeholder:e.$t("receivedDate")},domProps:{value:e.receivedDate},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.createFilter())},input:function(t){t.target.composing||(e.receivedDate=t.target.value)}}})]),r("div",{staticClass:"table-filter"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.reference,expression:"reference"}],staticClass:"form-control",class:{inputActive:""!==e.reference},attrs:{type:"text",name:"Reference",placeholder:e.$t("reference")},domProps:{value:e.reference},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),e.createFilter())},input:function(t){t.target.composing||(e.reference=t.target.value)}}})]),r("div",{staticClass:"table-filter-clear"},[e.defaultFilter!==e.filter?r("font-awesome-icon",{attrs:{icon:"times",title:e.$t("clearFilter")},on:{click:function(t){return e.removeFilter()}}}):e._e()],1)])])],2)],1),r("ConfirmationModal",{attrs:{showModal:e.showSuccessModal,hideCancel:!0},on:{ok:e.cancelModal}},[r("h3",{attrs:{slot:"header"},slot:"header"},[e._v(e._s(e.$t("autoMatch")))]),r("div",{attrs:{slot:"body"},slot:"body"},[r("p",[e._v(e._s(e.$t("autoMatched"))+": "+e._s(e.matched)+" ")]),r("p",[e._v(e._s(e.$t("noMatchFound"))+": "+e._s(e.unmatched))])])])],1)},o=[],n=r("a34a"),i=r.n(n),c=r("9ab4"),u=r("2fe1"),s=r("60a3"),l=r("bc3a"),f=r.n(l),m=r("2e75"),d=r("0f7b"),p=r("25bf"),h=r("d59a"),v=r("88c3"),b=r("7358");function y(e){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function N(e,t,r,a,o,n,i){try{var c=e[n](i),u=c.value}catch(s){return void r(s)}c.done?t(u):Promise.resolve(u).then(a,o)}function w(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var n=e.apply(t,r);function i(e){N(n,a,o,i,c,"next",e)}function c(e){N(n,a,o,i,c,"throw",e)}i(void 0)}))}}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function D(e,t,r){return t&&O(e.prototype,t),r&&O(e,r),e}function C(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},F(e)}function $(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&k(e,t)}function k(e,t){return k=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},k(e,t)}var P=function(e){function t(){var e;return _(this,t),e=C(this,F(t).apply(this,arguments)),e.deposits=[],e.depositsReady=!0,e.receivedDate="",e.accountNumber="",e.reference="",e.file="",e.importing=!1,e.totalData=0,e.matched=0,e.unmatched=0,e.showSuccessModal=!1,e.defaultFilter="",e.filter="",e}return $(t,e),D(t,[{key:"mounted",value:function(){var e=w(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.uSetSupportToggle(this.SUPPORT_PANEL_DEPOSIT_IMPORT_PAGE),this.getDeposits(),this.uConfig(this.TSBC_BPS_IMPORT)||this.$router.push({name:"remittanceMatch"});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getDeposits",value:function(){var e=w(i.a.mark((function e(){var t,r,a,o,n,c,u=arguments;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=u.length>0&&void 0!==u[0]?u[0]:0,r=u.length>1&&void 0!==u[1]?u[1]:"",a=u.length>2&&void 0!==u[2]&&u[2],a&&(this.deposits=[]),this.depositsReady=!1,e.next=7,this.getList("deposit-imports","".concat(this.filter,"batch_reviewed=True&"),t,this.TABLE_LIMIT,r);case 7:o=e.sent,n=o.data,c=o.count,this.totalData=c,this.formatDeposits(n),this.depositsReady=!0;case 13:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"formatDeposits",value:function(e){for(var t=0;t<e.length;t+=1){var r=e[t];this.deposits.push({id:r.id,accountNumber:r.accountNumber,customerName:r.customerName,systemFileSerialDate:r.systemFileSerialDate,depositType:this.PAYMENT_TYPES[r.depositType],confirmationCode:r.confirmationCode,amount:this.uFormatPrice(r.amount),fileCreationDate:r.fileCreationDate,systemFileSerialNo:r.systemFileSerialNo,receivedDate:r.receivedDate,remconBox:r.remconBox,fiCode:r.fiCode,batchNumber:r.batchNumber,dateOfPayment:r.dateOfPayment,fileTraceNumber:r.fileTraceNumber,sequenceNumber:r.sequenceNumber,cumulativeAmountForBatch:this.uFormatPrice(r.cumulativeAmountForBatch),cumulativeAmountForFile:this.uFormatPrice(r.cumulativeAmountForFile),accountNumberOverflow1:r.accountNumberOverflow1,accountNumberOverflow2:r.accountNumberOverflow2,accountNumberOverflow3:r.accountNumberOverflow3,accountNumberOverflow4:r.accountNumberOverflow4,actions:[{routePath:{name:"remittanceMatch",query:{depositImportId:r.id}},canEdit:this.uHasGroup(this.USER_GROUP_AGENCY_FILING),text:v["a"].tc("apply")}]})}}},{key:"createFilter",value:function(){var e=w(i.a.mark((function e(){var t;return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t="",this.accountNumber&&(t+="account_number=".concat(this.accountNumber,"&")),this.receivedDate&&(t+="received_date=".concat(this.receivedDate,"&")),this.reference&&(t+="confirmation_code=".concat(this.reference,"&")),this.filter=t;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"removeFilter",value:function(){var e=w(i.a.mark((function e(){return i.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.accountNumber="",this.receivedDate="",this.reference="",this.filter="";case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"autoMatch",value:function(){var e=this;f()({method:"post",url:"".concat("http://localhost:8000/api","/deposits-automatch/"),data:{}}).then((function(t){e.matched=t.data.matched,e.unmatched=t.data.unmatched,e.showSuccessModal=!0})).catch((function(t){e.uRequestErrorHandler(t)})).finally((function(){e.file="",e.importing=!1,e.getDeposits(0,"",!0)}))}},{key:"cancelModal",value:function(){this.showSuccessModal=!1}}]),t}(Object(u["c"])(m["a"],h["a"],b["a"]));P=Object(c["a"])([Object(s["a"])({components:{ConfirmationModal:d["a"],CustomTable:p["a"]}})],P);var S=P,M=S,T=(r("dfc0"),r("2877")),x=Object(T["a"])(M,a,o,!1,null,"47cc621a",null);t["default"]=x.exports},dfc0:function(e,t,r){"use strict";var a=r("c255"),o=r.n(a);o.a}}]);